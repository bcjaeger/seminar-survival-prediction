<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Machine Learning and Survival Analysis</title>
    <meta charset="utf-8" />
    <meta name="author" content="Byron C. Jaeger" />
    <meta name="date" content="2023-04-20" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/plotly-binding/plotly.js"></script>
    <script src="libs/typedarray/typedarray.min.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotly-main/plotly-latest.min.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Machine Learning and Survival Analysis
]
.author[
### Byron C. Jaeger
]
.date[
### April 20, 2023
]

---






# Hello! My name is Byron 

.left-column[

I like running, walking my dog, easy cocktail recipes, all kinds of games, and R.

I study machine learning, blood pressure, and cardiovascular disease.

I'm a biostatistician and data scientist

]

.right-column[

&lt;img src="img/run_R_kids_markedup.png" width="100%" align="right" /&gt;

]

---

# Outline

- **Machine Learning**

- Evaluating Survival Predictions

- Random Survival Forests

- Examples

---
background-image: url(img/data_mining.jpg)
background-size: 15%
background-position: 95% 5%

# Machine Learning

.pull-left[

### Supervised learning

- Labeled data

- Predict an outcome

- Learners

- Risk prediction

]

.pull-right[

### Unsupervised learning

- Unlabeled data

- Find structure

- Clusters

- Organize medical records

]


---
background-image: url(img/data_mining.jpg)
background-size: 15%
background-position: 95% 5%

# Machine Learning

.pull-left[

### Supervised learning

- Estimate a prediction function

- Test performance

- Improve decision-making (individual)

]

.pull-right[

### Inference

- Estimate parameters for a population.

- Test hypotheses

- Improve decision-making (population)

]

---
class: center

# Jargon (data)

&lt;img src="img/data_terms-1.png" width="100%" /&gt;


---
class: center

# Jargon (data)

&lt;img src="img/data_terms-2.png" width="100%" /&gt;


---
class: center, middle, inverse

# Bias-variance tradeoff

---
layout: true
background-image: url(img/esl.jpg)
background-position: 96% 4%
background-size: 18%

# Bias-variance tradeoff

*Definitions*

- **Bias:** how well does a model predict its training sample?

- **Variance:** how different would a model be if it were fit to a different training sample?

---




--

![](index_files/figure-html/unnamed-chunk-4-1.png)&lt;!-- --&gt;

---

![](index_files/figure-html/unnamed-chunk-5-1.png)&lt;!-- --&gt;

---

![](index_files/figure-html/unnamed-chunk-6-1.png)&lt;!-- --&gt;

---
layout: true
background-image: url(img/esl.jpg)
background-position: 96% 4%
background-size: 18%

# Bias-variance tradeoff

*Models*

- High bias low variance: `lm(y ~ x)` (orange line)

- Low bias high variance: `gam(y ~ s(x))` (purple line)

---

![](index_files/figure-html/unnamed-chunk-7-1.png)&lt;!-- --&gt;

---

![](index_files/figure-html/unnamed-chunk-8-1.png)&lt;!-- --&gt;

---

![](index_files/figure-html/unnamed-chunk-9-1.png)&lt;!-- --&gt;

---
layout: false
class: center, middle

# Prediction accuracy in new data depends on both bias and variance

---

layout: true
background-image: url(img/esl.jpg)
background-position: 96% 4%
background-size: 18%

# Bias-variance tradeoff

Watch prediction accuracy in new data change as a spline progresses from&lt;br&gt;high bias low variance (under-fitting) to low bias high variance (over-fitting)

---




```r
# spar = 1 =&gt; least complex spline
model &lt;- gam(y ~ s(x, spar=1), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-12-1.png)&lt;!-- --&gt;
---

```r
# spar = 0.95 =&gt; a little more wiggle room
model &lt;- gam(y ~ s(x, spar=0.95), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-14-1.png)&lt;!-- --&gt;
---

```r
# spar = 0.90 =&gt; a little more wiggle room
model &lt;- gam(y ~ s(x, spar=0.90), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-16-1.png)&lt;!-- --&gt;
---


```r
# spar = 0.85 =&gt; more 
model &lt;- gam(y ~ s(x, spar=0.85), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-18-1.png)&lt;!-- --&gt;
---


```r
# spar = 0.80 =&gt; more 
model &lt;- gam(y ~ s(x, spar=0.80), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-20-1.png)&lt;!-- --&gt;
---

```r
# spar = 0.75 =&gt; more 
model &lt;- gam(y ~ s(x, spar=0.75), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-22-1.png)&lt;!-- --&gt;
---


```r
# spar = 0.70 =&gt; more
model &lt;- gam(y ~ s(x, spar=0.70), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-24-1.png)&lt;!-- --&gt;
---

```r
# spar = 0.65 =&gt; more (too much?)
model &lt;- gam(y ~ s(x, spar=0.65), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-26-1.png)&lt;!-- --&gt;
---

```r
# spar = 0.60 =&gt; more (too much?)
model &lt;- gam(y ~ s(x, spar=0.60), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-28-1.png)&lt;!-- --&gt;
---


```r
# spar = 0.55 =&gt; more (too much?)
model &lt;- gam(y ~ s(x, spar=0.55), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-30-1.png)&lt;!-- --&gt;
---


```r
# spar = 0.50 =&gt; more (too too much??)
model &lt;- gam(y ~ s(x, spar=0.50), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-32-1.png)&lt;!-- --&gt;
---

```r
# spar = 0.45 =&gt; more (much too much!!)
model &lt;- gam(y ~ s(x, spar=0.45), data=simulated_data)
```

![](index_files/figure-html/unnamed-chunk-34-1.png)&lt;!-- --&gt;


---
layout: false
class: center, middle

# Balance bias and variance with cross validation

---


&lt;img src="index_files/figure-html/unnamed-chunk-35-1.png" width="100%" /&gt;

---

# Outline

- Machine Learning

- **Evaluating Survival Predictions**

- Random Survival Forests

- Examples

---
layout: true

# Evaluating Survival Predictions

---

What can be predicted in survival analysis:

- Time until event

- Probability of event occurring in next `\(t\)` years

- Expected number of events in next `\(t\)` years

---

- Calibration (Slope and intercept)

- Discrimination (C-statistic aka AUC)

- Overall goodness of fit (Brier Score aka Graf Score)

---

### Brier Score

The **Brier score** of a predicted probability `$$\widehat{f}(t) \in (0, 1]$$` for an observed event `$$Y(t) \in \left\{ 0, 1 \right\}$$` is `$$\left( \widehat{f}(t) -  Y(t) \right)^{2}.$$`

**Examples** 

- If `\(\widehat{f}(t) = 0.10\)` and `\(Y=0\)`, the **Brier score** is `\((0.10 - 0.00)^{2} = 0.01\)`.

- If `\(\widehat{f}(t) = 0.50\)`, the **Brier score** is always 0.25. Why?

---

### Brier Score at a given time


![](index_files/figure-html/unnamed-chunk-36-1.png)&lt;!-- --&gt;

---

### Brier Score at a given time

![](index_files/figure-html/unnamed-chunk-37-1.png)&lt;!-- --&gt;


---

### Brier Score at a given time

![](index_files/figure-html/unnamed-chunk-38-1.png)&lt;!-- --&gt;

---

### Brier Score at another given time


![](index_files/figure-html/unnamed-chunk-39-1.png)&lt;!-- --&gt;

---

### Brier Score at many given times


![](index_files/figure-html/unnamed-chunk-40-1.png)&lt;!-- --&gt;

---

### Integrated Brier Score



**Why?** Integrating the Brier score over a range of times summarizes overall prediction accuracy. 



**How?** Computing Brier scores at all potential times for one observation, i.e.,

`$$\text{ibs}(T) = \frac{1}{\text{T}} \int_{0}^{T} \left(\widehat{f}(t) - Y(t) \right)^{2} dt$$`

For a validation sample with `\(N\)` observations, 

`$$\text{IBS}(T) = \frac{1}{N} \sum_{i=1}^N \text{ibs}_i(T)$$`



---

### Scaled Brier Score

**Why?**

- IBS = 0 `\(\Rightarrow\)` perfect model. Great! What if IBS = 0.05?

- Naïve IBS is determined by the prevalence of the outcome.

**How?** If the outcome is present in 10% of the population, then the naïve IBS is 

`$$(0.1) \cdot (1–0.1)^{2} + (1–0.1) \cdot (0.1)^{2} = 0.090$$` 

So if our model gets an IBS of 0.05, we could scale it to be `\(\leq 1\)` using 

`$$1 - \frac{\text{IBS of our model}}{\text{IBS of naïve model}} = 1 - \frac{0.05}{0.090} = 0.444$$`

Note that this is sometimes called the **index of prediction accuracy (IPA)**

---

### Partial dependence

Switching gears from prediction accuracy to interpretation.

- Let `\(X_{\text{interest}}\)` represent a predictor (or predictors) we want to investigate and `\(X_{\text{others}}\)` all other predictors. 

- To estimate how a random model's predictions change with respect to `\(X_{\text{interest}}\)`, we compute

`$$E_{X_{\text{others}}}\left[\hat{f}(X_{\text{interest}}, X_{\text{others}})\right] \approx \frac{1}{n} \sum_{i=1}^n \hat{f}(X_{\text{interest}}, X^i_{\text{others}})$$`

- We do this by selecting a set of covariate values for `\(X_{\text{interest}}\)` and computing an average at each one. 

---
layout: false

# Outline

- Machine Learning

- Evaluating Survival Predictions

- **Random Survival Forests**

- Examples

---
background-image: url(img/penguins.png)
background-size: 45%
background-position: 85% 72.5%

## Decision trees

- Partitions the space of predictor variables.

- Can be used for classification, regression, and survival analysis. 

.pull-left[
We'll demonstrate the mechanics of decision trees by developing a prediction rule to classify penguin&lt;sup&gt;1&lt;/sup&gt; species (chinstrap, gentoo, or adelie) based on bill and flipper length.
]

.footnote[
&lt;sup&gt;1&lt;/sup&gt;Data were collected and made available by [Dr. Kristen Gorman](https://www.uaf.edu/cfos/people/faculty/detail/kristen-gorman.php) and the [Palmer Station](https://pal.lternet.edu/), a member of the [Long Term Ecological Research Network](https://lternet.edu/).
]

---

Dimensions for Adelie, Chinstrap and Gentoo Penguins at Palmer Station

&lt;img src="index_files/figure-html/unnamed-chunk-41-1.png" style="display: block; margin: auto;" /&gt;

---

Partition all the penguins into flipper length &lt; 207 or ≥ 207 mm

&lt;img src="index_files/figure-html/unnamed-chunk-42-1.png" style="display: block; margin: auto;" /&gt;

---

Partition penguins on the left side into into bill length &lt; 43 or ≥ 43 mm

&lt;img src="index_files/figure-html/unnamed-chunk-43-1.png" style="display: block; margin: auto;" /&gt;

---

The same partitions, visualized as a binary tree.

&lt;img src="img/rpart_plot_classif.png" width="100%" style="display: block; margin: auto;" /&gt;

Node text: Penguin species probabilities based on penguins in the leaf

---

## Survival trees 

&lt;img src="img/rpart_plot_surv.png" width="100%" style="display: block; margin: auto;" /&gt;

---

## Random Forest, i.e., lots of trees

Each tree is grown through a randomized process:

- tree-specific bootstrapped replicate of the training data

- node-specific random subsets of predictors

The random elements make the trees independent from each other

- Each randomized tree is _individually weaker_ than a standard decision tree.

- The ensemble of randomized trees is **much** more accurate.






---

Contours of predictions from **individual trees** in a random forest

&lt;img src="index_files/figure-html/unnamed-chunk-47-1.png" style="display: block; margin: auto;" /&gt;

---

The **ensemble** decision boundary from a random forest

&lt;img src="index_files/figure-html/unnamed-chunk-48-1.png" style="display: block; margin: auto;" /&gt;

---

## Oblique trees

Oblique trees use linear combinations of variables to partition data.

- axis based split: `\(x_1 &lt; 10\)`

- oblique split: `\(0.25 \cdot x_1 + 1.5 \cdot x_2 &lt; 10\)`

&lt;img src="img/axis_versus_oblique.png" width="100%" /&gt;

---

## Oblique random survival forest

&lt;iframe src="https://docs.ropensci.org/aorsf/" width="100%" height="400px" data-external="1"&gt;&lt;/iframe&gt;

---

## Assessing variable importance 

<div id="htmlwidget-9d1e534086cab9744536" style="width:750px;height:450px;" class="plotly html-widget "></div>
<script type="application/json" data-for="htmlwidget-9d1e534086cab9744536">{"x":{"visdat":{"29d42a6c10d8":["function () ","plotlyVisDat"],"29d44b9d3bd5":["function () ","data"],"29d440e574f0":["function () ","data"],"29d42e024f6f":["function () ","data"]},"cur_data":"29d42e024f6f","attrs":{"29d42a6c10d8":{"x":{},"y":{},"color":{},"symbol":{},"frame":{},"colors":["darkorange","purple","cyan4"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"markers","inherit":true},"29d44b9d3bd5":{"x":{},"y":{},"type":"scatter","fill":"toself","mode":"lines","color":["darkorange"],"alpha":[0.2],"inherit":false},"29d440e574f0":{"x":{},"y":{},"type":"scatter","fill":"toself","mode":"lines","color":["purple"],"alpha":[0.2],"inherit":false},"29d42e024f6f":{"x":{},"y":{},"type":"scatter","fill":"toself","mode":"lines","color":["cyan4"],"alpha":[0.2],"inherit":false}},"layout":{"width":750,"height":450,"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"<b>Bill length, scaled<\/b>","range":[-3.1,3.1],"showgrid":false,"zerolinecolor":"white","titlefont":{"size":20},"tickvals":[-3,-2,-1,0,1,2,3]},"yaxis":{"domain":[0,1],"automargin":true,"title":"<b>Bill depth, scaled<\/b>","range":[-2.1,2.1],"showgrid":false,"zerolinecolor":"white","titlefont":{"size":20},"tickvals":[-2,-1,0,1,2]},"hovermode":"closest","showlegend":false,"sliders":[],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0.05,"x":0.95,"yanchor":"bottom","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Permute<br />bill length","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":1000,"easing":"linear"},"frame":{"duration":1000,"redraw":true}}]}]}]},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"x":[-0.894695469943974,-0.821551520642717,-0.675263622040205,-1.33355916575151,-0.858123495293346,-0.931267444594602,-0.876409482618659,-0.528975723437691,-1.71756489958311,-1.35184515307683,-0.96783941924523,-0.272971900883293,-1.75413687423374,-1.13241330517306,-1.15069929249837,-1.47984706435403,-1.0592693558718,-0.949553431919917,-1.58956298830591,-0.620405660064261,-0.638691647389576,-1.11412731784774,-0.638691647389576,-0.821551520642717,-1.24212922912494,-0.821551520642717,-0.565547698088319,-1.38841712772746,-0.876409482618659,-0.949553431919917,-0.327829862859235,-1.16898527982369,-0.766693558666775,-1.37013114040214,-0.583833685413634,-1.46156107702871,0.0196038963217338,-1.27870120377557,-0.803265533317403,-0.528975723437691,-1.46156107702871,-0.803265533317403,-0.711835596690832,-1.64442095028185,-0.364401837509864,-1.73585088690842,-0.474117761461749,-0.912981457269288,-0.620405660064261,-1.37013114040214,-1.16898527982369,-1.51641903900465,-0.492403748787063,-1.16898527982369,-0.528975723437691,-1.38841712772746,-0.43754578681112,-1.55299101365528,-0.528975723437691,-1.47984706435403,-0.400973812160492,-1.91871076016157,-0.784979545992088,-0.803265533317403,0.330465680852073,-1.55299101365528,-0.218113938907351,-0.565547698088319,-1.24212922912494,-1.42498910237808,-0.346115850184549,-1.71756489958311,-0.199827951582037,-1.33355916575151,-1.62613496295654,-1.22384324179963,-0.492403748787063,-1.40670311505277,-1.29698719110089,-1.04098336854649,-0.931267444594602,-1.51641903900465,-0.528975723437691,-1.827280823535,-0.803265533317403,-1.42498910237808,-0.583833685413634,-1.07755534319711,-0.675263622040205,-1.99185470946282,-0.144969989606093,-1.64442095028185,-0.547261710763005,-1.15069929249837,-1.13241330517306,-1.11412731784774,-0.784979545992088,-0.986125406570544,-1.0592693558718,-1.07755534319711,-0.144969989606093,-1.07755534319711,0.293893706201446,-0.784979545992088,-0.327829862859235,-0.803265533317403,-0.236399926232664,-0.986125406570544,-1.22384324179963,-1.51641903900465,-0.528975723437691,-1.42498910237808,-1.15069929249837,-0.693549609365518,-0.474117761461749,-1.60784897563122,-0.620405660064261,-0.949553431919917,-0.455831774136434,-0.912981457269288,0.0196038963217338,-1.00441139389586,-0.163255976931408,-1.3152731784262,-1.187271267149,-1.07755534319711,-0.528975723437691,-1.53470502632997,-0.693549609365518,-1.27870120377557,-0.784979545992088,-0.693549609365518,-0.620405660064261,-2.17471458271596,-0.602119672738947,-1.22384324179963,-0.912981457269288,-0.876409482618659,-1.35184515307683,-1.46156107702871,-1.13241330517306,-1.46156107702871,-0.455831774136434],"y":[0.779558952562776,0.119404276184791,0.424091049897708,1.08424572627569,1.74440040265368,0.322528791993403,1.23658911313215,0.220966534089098,1.99830604741444,0.322528791993403,0.931902339419235,1.79518153160583,0.627215565706318,0.576434436754166,0.779558952562776,1.03346459732354,0.474872178849861,0.0178420182804862,0.881121210467081,0.728777823610625,0.373309920945555,0.728777823610625,0.881121210467081,-0.236063626480277,0.474872178849861,0.322528791993403,0.881121210467081,-0.0837202396238188,1.99830604741444,1.43971362894076,0.677996694658471,1.08424572627569,0.982683468371388,0.424091049897708,0.627215565706318,0.677996694658471,1.2873702420843,-0.134501368575972,0.83034008151493,0.931902339419235,0.373309920945555,0.27174766304125,0.881121210467081,0.373309920945555,1.18580798418,0.474872178849861,0.728777823610625,0.170185405136945,0.83034008151493,-0.286844755432429,0.982683468371388,-0.134501368575972,1.99830604741444,-0.0837202396238188,0.525653307802013,-0.0329391106716654,0.424091049897708,-0.489969271241041,0.982683468371388,-0.286844755432429,1.13502685522784,0.931902339419235,0.627215565706318,0.0178420182804862,0.881121210467081,0.170185405136945,0.677996694658471,-0.185282497528124,1.13502685522784,-0.540750400193192,0.982683468371388,0.0178420182804862,0.220966534089098,0.83034008151493,1.13502685522784,0.322528791993403,1.59205701579722,1.18580798418,0.728777823610625,1.03346459732354,0.83034008151493,0.424091049897708,0.474872178849861,-0.0329391106716654,0.474872178849861,0.0686231472326396,0.881121210467081,0.728777823610625,0.677996694658471,-0.540750400193192,0.677996694658471,0.373309920945555,1.43971362894076,-0.591531529145346,1.43971362894076,0.728777823610625,0.881121210467081,0.0178420182804862,1.43971362894076,-0.0837202396238188,0.931902339419235,-0.337625884384582,1.59205701579722,0.27174766304125,1.18580798418,1.79518153160583,0.576434436754166,-0.0837202396238188,1.69361927370152,-0.0837202396238188,0.728777823610625,0.0178420182804862,1.33815137103646,-0.0837202396238188,0.677996694658471,-0.642312658097498,0.931902339419235,0.220966534089098,0.576434436754166,-0.0329391106716654,0.424091049897708,0.373309920945555,1.03346459732354,0.677996694658471,0.677996694658471,0.220966534089098,0.170185405136945,0.170185405136945,1.49049475789291,-0.337625884384582,0.373309920945555,-0.0329391106716654,0.0178420182804862,-0.845437173906109,-0.0837202396238188,-0.185282497528124,0.779558952562776,0.728777823610625,0.627215565706318,0.322528791993403,0.474872178849861,-0.0329391106716654,0.677996694658471],"frame":"1","type":"scatter","mode":"markers","name":"Adelie<br />1","marker":{"color":"rgba(255,140,0,1)","symbol":"circle","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,1)"},"error_y":{"color":"rgba(255,140,0,1)"},"error_x":{"color":"rgba(255,140,0,1)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","visible":true,"hoverinfo":"none"},{"x":[0.458467592129273,1.09847714851527,1.33619498374435,0.257321731550817,1.59219880629875,0.22074975690019,0.385323642828017,1.33619498374435,0.367037655502702,1.33619498374435,0.476753579454587,1.40933893304561,0.549897528755844,1.46419689502155,0.348751668177388,1.18990708514184,1.15333511049121,2.5613561345404,0.440181604803959,0.952189249912755,-0.291257888208607,0.824187338635556,-0.144969989606093,1.20819307246715,0.495039566779902,1.46419689502155,1.18990708514184,1.0070472118887,0.440181604803959,1.61048479362406,-0.565547698088319,1.86648861617846,-0.272971900883293,1.28133702176841,1.04361918653933,0.641327465382414,0.659613452707729,1.46419689502155,0.531611541430529,1.73848670490126,0.915617275262127,0.403609630153331,1.2630510344431,0.275607718876132,1.2630510344431,1.24476504711778,1.11676313584058,0.915617275262127,1.37276695839498,1.06190517386464,0.7510433893343,1.35448097106967,0.31217969352676,1.22647905979247,-0.272971900883293,1.50076886967218,0.22074975690019,0.970475237238068,1.1350491231659,0.293893706201446,1.44591090769624,0.513325554105215,0.31217969352676,2.15906441338349,-0.0901120276301514,1.02533319921401,1.24476504711778,1.1350491231659],"y":[0.373309920945555,1.18580798418,1.03346459732354,0.779558952562776,1.33815137103646,0.322528791993403,0.525653307802013,0.525653307802013,0.881121210467081,1.38893249998861,0.322528791993403,1.59205701579722,0.0686231472326396,0.474872178849861,-0.0329391106716654,1.23658911313215,1.43971362894076,0.322528791993403,0.728777823610625,0.525653307802013,0.0686231472326396,0.170185405136945,-0.286844755432429,1.13502685522784,0.373309920945555,0.931902339419235,0.627215565706318,0.931902339419235,0.322528791993403,1.43971362894076,-0.286844755432429,1.84596266055798,-0.236063626480277,0.83034008151493,0.728777823610625,-0.185282497528124,0.576434436754166,1.79518153160583,-0.286844755432429,1.38893249998861,1.18580798418,0.170185405136945,0.982683468371388,-0.0837202396238188,0.373309920945555,0.677996694658471,0.373309920945555,1.23658911313215,0.779558952562776,0.0686231472326396,-0.388407013336736,0.931902339419235,0.0686231472326396,1.2873702420843,0.0686231472326396,0.83034008151493,-0.286844755432429,1.38893249998861,0.83034008151493,1.13502685522784,1.18580798418,-0.337625884384582,-0.0837202396238188,1.33815137103646,0.474872178849861,0.525653307802013,0.931902339419235,0.779558952562776],"frame":"1","type":"scatter","mode":"markers","name":"Chinstrap<br />1","marker":{"color":"rgba(160,32,240,1)","symbol":"triangle-up","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,1)"},"error_y":{"color":"rgba(160,32,240,1)"},"error_x":{"color":"rgba(160,32,240,1)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","visible":true,"hoverinfo":"none"},{"x":[1.09847714851527,0.860759313286185,1.09847714851527,0.659613452707729,0.458467592129273,0.257321731550817,0.495039566779902,-0.12668400228078,0.513325554105215,-0.565547698088319,0.915617275262127,0.275607718876132,0.805901351310242,0.330465680852073,0.970475237238068,-0.364401837509864,0.952189249912755,0.403609630153331,0.860759313286185,1.1350491231659,0.202463769574875,0.458467592129273,0.421895617478644,0.385323642828017,0.696185427358356,0.769329376659614,1.09847714851527,0.604755490731786,-0.218113938907351,0.202463769574875,2.85393193174543,0.933903262587441,0.805901351310242,-0.254685913557978,0.0744618582976757,0.00131790899641935,0.860759313286185,-0.236399926232664,1.02533319921401,0.239035744225503,1.02533319921401,1.18990708514184,-0.071826040304837,0.275607718876132,1.18990708514184,0.165891794924246,0.22074975690019,0.476753579454587,0.824187338635556,0.202463769574875,1.11676313584058,0.458467592129273,0.184177782249561,-0.0352540656542095,0.275607718876132,-0.144969989606093,1.17162109781652,0.239035744225503,0.403609630153331,0.31217969352676,1.88477460350378,0.330465680852073,1.06190517386464,1.0070472118887,-0.0901120276301514,1.22647905979247,0.677899440033043,0.440181604803959,0.769329376659614,0.458467592129273,0.440181604803959,0.84247332596087,0.641327465382414,1.29962300909372,0.22074975690019,0.22074975690019,0.933903262587441,1.55562683164812,0.6230414780571,1.09847714851527,0.165891794924246,1.24476504711778,-0.108398014955466,1.33619498374435,0.641327465382414,1.48248288234687,0.641327465382414,1.50076886967218,0.275607718876132,1.0070472118887,0.0927478456229901,1.24476504711778,0.988761224563383,0.531611541430529,0.805901351310242,1.29962300909372,0.824187338635556,2.1773504007088,0.586469503406473,0.933903262587441,0.513325554105215,-0.419259799485805,1.72020071757595,-0.12668400228078,0.7510433893343,1.18990708514184,1.06190517386464,-0.0901120276301514,1.37276695839498,0.403609630153331,2.03106250210629,0.879045300611498,0.586469503406473,0.513325554105215,1.17162109781652,0.22074975690019,1.08019116118995],"y":[-0.439188142288887,-1.55637297923625,-0.997780560762567,-1.35324846342764,-1.86105975294916,-1.30246733447548,-0.946999431810414,-1.91184088190131,-0.896218302858261,-1.75949749504486,-0.540750400193192,-1.75949749504486,-1.30246733447548,-1.30246733447548,-0.743874916001804,-1.86105975294916,-0.997780560762567,-1.35324846342764,-1.04856168971472,-1.45481072133194,-1.35324846342764,-1.35324846342764,-0.693093787049651,-1.04856168971472,-1.09934281866687,-1.45481072133194,-0.946999431810414,-0.946999431810414,-1.50559185028409,-1.35324846342764,-0.0837202396238188,-1.20090507657118,-0.439188142288887,-1.75949749504486,0.0686231472326396,-1.81027862399701,-0.743874916001804,-1.75949749504486,-0.591531529145346,-1.75949749504486,-1.09934281866687,-0.642312658097498,-1.65793523714055,-1.65793523714055,-0.642312658097498,-1.96262201085347,-0.693093787049651,-1.50559185028409,-1.55637297923625,-1.40402959237979,-1.09934281866687,-1.40402959237979,-0.896218302858261,-1.65793523714055,-1.09934281866687,-1.35324846342764,-0.946999431810414,-1.7087163660927,-1.15012394761902,-1.65793523714055,-0.743874916001804,-1.50559185028409,-0.185282497528124,-0.489969271241041,-1.50559185028409,-1.09934281866687,-1.09934281866687,-0.794656044953956,-0.794656044953956,-1.20090507657118,-1.09934281866687,-0.591531529145346,-1.50559185028409,-0.439188142288887,-1.7087163660927,-0.388407013336736,-1.35324846342764,-0.794656044953956,-1.30246733447548,-0.642312658097498,-1.7087163660927,0.0686231472326396,-1.40402959237979,-1.50559185028409,-1.6071541081884,-0.0837202396238188,-1.09934281866687,-0.0329391106716654,-1.35324846342764,-0.540750400193192,-1.25168620552333,-0.743874916001804,-0.693093787049651,-1.30246733447548,-1.40402959237979,-0.337625884384582,-1.09934281866687,-0.0837202396238188,-0.845437173906109,-1.09934281866687,-0.540750400193192,-1.25168620552333,-0.693093787049651,-1.6071541081884,-1.04856168971472,-0.997780560762567,-0.642312658097498,-0.997780560762567,-0.439188142288887,-1.55637297923625,-0.591531529145346,-0.489969271241041,-1.75949749504486,-1.45481072133194,-0.743874916001804,-1.20090507657118,-0.540750400193192],"frame":"1","type":"scatter","mode":"markers","name":"Gentoo<br />1","marker":{"color":"rgba(0,139,139,1)","symbol":"square","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,1)"},"error_y":{"color":"rgba(0,139,139,1)"},"error_x":{"color":"rgba(0,139,139,1)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","visible":true,"hoverinfo":"none"},{"fillcolor":"rgba(255,140,0,0.2)","x":[-3,-1.8,0.8,-3,-3],"y":[-2,-2,2,2,-2],"type":"scatter","fill":"toself","mode":"lines","marker":{"color":"rgba(255,140,0,0.2)","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,0.2)"},"error_y":{"color":"rgba(255,140,0,0.2)"},"error_x":{"color":"rgba(255,140,0,0.2)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","frame":null,"hoverinfo":"none"},{"fillcolor":"rgba(160,32,240,0.2)","x":[-1.35,0.8,3,3,-1.35],"y":[-1.3,2,2,0.9,-1.3],"type":"scatter","fill":"toself","mode":"lines","marker":{"color":"rgba(160,32,240,0.2)","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,0.2)"},"error_y":{"color":"rgba(160,32,240,0.2)"},"error_x":{"color":"rgba(160,32,240,0.2)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","frame":null,"hoverinfo":"none"},{"fillcolor":"rgba(0,139,139,0.2)","x":[-1.8,-1.35,3,3,-1.8],"y":[-2,-1.3,0.9,-2,-2],"type":"scatter","fill":"toself","mode":"lines","marker":{"color":"rgba(0,139,139,0.2)","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,0.2)"},"error_y":{"color":"rgba(0,139,139,0.2)"},"error_x":{"color":"rgba(0,139,139,0.2)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","frame":null,"hoverinfo":"none"}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"1","data":[{"x":[-0.894695469943974,-0.821551520642717,-0.675263622040205,-1.33355916575151,-0.858123495293346,-0.931267444594602,-0.876409482618659,-0.528975723437691,-1.71756489958311,-1.35184515307683,-0.96783941924523,-0.272971900883293,-1.75413687423374,-1.13241330517306,-1.15069929249837,-1.47984706435403,-1.0592693558718,-0.949553431919917,-1.58956298830591,-0.620405660064261,-0.638691647389576,-1.11412731784774,-0.638691647389576,-0.821551520642717,-1.24212922912494,-0.821551520642717,-0.565547698088319,-1.38841712772746,-0.876409482618659,-0.949553431919917,-0.327829862859235,-1.16898527982369,-0.766693558666775,-1.37013114040214,-0.583833685413634,-1.46156107702871,0.0196038963217338,-1.27870120377557,-0.803265533317403,-0.528975723437691,-1.46156107702871,-0.803265533317403,-0.711835596690832,-1.64442095028185,-0.364401837509864,-1.73585088690842,-0.474117761461749,-0.912981457269288,-0.620405660064261,-1.37013114040214,-1.16898527982369,-1.51641903900465,-0.492403748787063,-1.16898527982369,-0.528975723437691,-1.38841712772746,-0.43754578681112,-1.55299101365528,-0.528975723437691,-1.47984706435403,-0.400973812160492,-1.91871076016157,-0.784979545992088,-0.803265533317403,0.330465680852073,-1.55299101365528,-0.218113938907351,-0.565547698088319,-1.24212922912494,-1.42498910237808,-0.346115850184549,-1.71756489958311,-0.199827951582037,-1.33355916575151,-1.62613496295654,-1.22384324179963,-0.492403748787063,-1.40670311505277,-1.29698719110089,-1.04098336854649,-0.931267444594602,-1.51641903900465,-0.528975723437691,-1.827280823535,-0.803265533317403,-1.42498910237808,-0.583833685413634,-1.07755534319711,-0.675263622040205,-1.99185470946282,-0.144969989606093,-1.64442095028185,-0.547261710763005,-1.15069929249837,-1.13241330517306,-1.11412731784774,-0.784979545992088,-0.986125406570544,-1.0592693558718,-1.07755534319711,-0.144969989606093,-1.07755534319711,0.293893706201446,-0.784979545992088,-0.327829862859235,-0.803265533317403,-0.236399926232664,-0.986125406570544,-1.22384324179963,-1.51641903900465,-0.528975723437691,-1.42498910237808,-1.15069929249837,-0.693549609365518,-0.474117761461749,-1.60784897563122,-0.620405660064261,-0.949553431919917,-0.455831774136434,-0.912981457269288,0.0196038963217338,-1.00441139389586,-0.163255976931408,-1.3152731784262,-1.187271267149,-1.07755534319711,-0.528975723437691,-1.53470502632997,-0.693549609365518,-1.27870120377557,-0.784979545992088,-0.693549609365518,-0.620405660064261,-2.17471458271596,-0.602119672738947,-1.22384324179963,-0.912981457269288,-0.876409482618659,-1.35184515307683,-1.46156107702871,-1.13241330517306,-1.46156107702871,-0.455831774136434],"y":[0.779558952562776,0.119404276184791,0.424091049897708,1.08424572627569,1.74440040265368,0.322528791993403,1.23658911313215,0.220966534089098,1.99830604741444,0.322528791993403,0.931902339419235,1.79518153160583,0.627215565706318,0.576434436754166,0.779558952562776,1.03346459732354,0.474872178849861,0.0178420182804862,0.881121210467081,0.728777823610625,0.373309920945555,0.728777823610625,0.881121210467081,-0.236063626480277,0.474872178849861,0.322528791993403,0.881121210467081,-0.0837202396238188,1.99830604741444,1.43971362894076,0.677996694658471,1.08424572627569,0.982683468371388,0.424091049897708,0.627215565706318,0.677996694658471,1.2873702420843,-0.134501368575972,0.83034008151493,0.931902339419235,0.373309920945555,0.27174766304125,0.881121210467081,0.373309920945555,1.18580798418,0.474872178849861,0.728777823610625,0.170185405136945,0.83034008151493,-0.286844755432429,0.982683468371388,-0.134501368575972,1.99830604741444,-0.0837202396238188,0.525653307802013,-0.0329391106716654,0.424091049897708,-0.489969271241041,0.982683468371388,-0.286844755432429,1.13502685522784,0.931902339419235,0.627215565706318,0.0178420182804862,0.881121210467081,0.170185405136945,0.677996694658471,-0.185282497528124,1.13502685522784,-0.540750400193192,0.982683468371388,0.0178420182804862,0.220966534089098,0.83034008151493,1.13502685522784,0.322528791993403,1.59205701579722,1.18580798418,0.728777823610625,1.03346459732354,0.83034008151493,0.424091049897708,0.474872178849861,-0.0329391106716654,0.474872178849861,0.0686231472326396,0.881121210467081,0.728777823610625,0.677996694658471,-0.540750400193192,0.677996694658471,0.373309920945555,1.43971362894076,-0.591531529145346,1.43971362894076,0.728777823610625,0.881121210467081,0.0178420182804862,1.43971362894076,-0.0837202396238188,0.931902339419235,-0.337625884384582,1.59205701579722,0.27174766304125,1.18580798418,1.79518153160583,0.576434436754166,-0.0837202396238188,1.69361927370152,-0.0837202396238188,0.728777823610625,0.0178420182804862,1.33815137103646,-0.0837202396238188,0.677996694658471,-0.642312658097498,0.931902339419235,0.220966534089098,0.576434436754166,-0.0329391106716654,0.424091049897708,0.373309920945555,1.03346459732354,0.677996694658471,0.677996694658471,0.220966534089098,0.170185405136945,0.170185405136945,1.49049475789291,-0.337625884384582,0.373309920945555,-0.0329391106716654,0.0178420182804862,-0.845437173906109,-0.0837202396238188,-0.185282497528124,0.779558952562776,0.728777823610625,0.627215565706318,0.322528791993403,0.474872178849861,-0.0329391106716654,0.677996694658471],"frame":"1","type":"scatter","mode":"markers","name":"Adelie<br />1","marker":{"color":"rgba(255,140,0,1)","symbol":"circle","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,1)"},"error_y":{"color":"rgba(255,140,0,1)"},"error_x":{"color":"rgba(255,140,0,1)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[0.458467592129273,1.09847714851527,1.33619498374435,0.257321731550817,1.59219880629875,0.22074975690019,0.385323642828017,1.33619498374435,0.367037655502702,1.33619498374435,0.476753579454587,1.40933893304561,0.549897528755844,1.46419689502155,0.348751668177388,1.18990708514184,1.15333511049121,2.5613561345404,0.440181604803959,0.952189249912755,-0.291257888208607,0.824187338635556,-0.144969989606093,1.20819307246715,0.495039566779902,1.46419689502155,1.18990708514184,1.0070472118887,0.440181604803959,1.61048479362406,-0.565547698088319,1.86648861617846,-0.272971900883293,1.28133702176841,1.04361918653933,0.641327465382414,0.659613452707729,1.46419689502155,0.531611541430529,1.73848670490126,0.915617275262127,0.403609630153331,1.2630510344431,0.275607718876132,1.2630510344431,1.24476504711778,1.11676313584058,0.915617275262127,1.37276695839498,1.06190517386464,0.7510433893343,1.35448097106967,0.31217969352676,1.22647905979247,-0.272971900883293,1.50076886967218,0.22074975690019,0.970475237238068,1.1350491231659,0.293893706201446,1.44591090769624,0.513325554105215,0.31217969352676,2.15906441338349,-0.0901120276301514,1.02533319921401,1.24476504711778,1.1350491231659],"y":[0.373309920945555,1.18580798418,1.03346459732354,0.779558952562776,1.33815137103646,0.322528791993403,0.525653307802013,0.525653307802013,0.881121210467081,1.38893249998861,0.322528791993403,1.59205701579722,0.0686231472326396,0.474872178849861,-0.0329391106716654,1.23658911313215,1.43971362894076,0.322528791993403,0.728777823610625,0.525653307802013,0.0686231472326396,0.170185405136945,-0.286844755432429,1.13502685522784,0.373309920945555,0.931902339419235,0.627215565706318,0.931902339419235,0.322528791993403,1.43971362894076,-0.286844755432429,1.84596266055798,-0.236063626480277,0.83034008151493,0.728777823610625,-0.185282497528124,0.576434436754166,1.79518153160583,-0.286844755432429,1.38893249998861,1.18580798418,0.170185405136945,0.982683468371388,-0.0837202396238188,0.373309920945555,0.677996694658471,0.373309920945555,1.23658911313215,0.779558952562776,0.0686231472326396,-0.388407013336736,0.931902339419235,0.0686231472326396,1.2873702420843,0.0686231472326396,0.83034008151493,-0.286844755432429,1.38893249998861,0.83034008151493,1.13502685522784,1.18580798418,-0.337625884384582,-0.0837202396238188,1.33815137103646,0.474872178849861,0.525653307802013,0.931902339419235,0.779558952562776],"frame":"1","type":"scatter","mode":"markers","name":"Chinstrap<br />1","marker":{"color":"rgba(160,32,240,1)","symbol":"triangle-up","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,1)"},"error_y":{"color":"rgba(160,32,240,1)"},"error_x":{"color":"rgba(160,32,240,1)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[1.09847714851527,0.860759313286185,1.09847714851527,0.659613452707729,0.458467592129273,0.257321731550817,0.495039566779902,-0.12668400228078,0.513325554105215,-0.565547698088319,0.915617275262127,0.275607718876132,0.805901351310242,0.330465680852073,0.970475237238068,-0.364401837509864,0.952189249912755,0.403609630153331,0.860759313286185,1.1350491231659,0.202463769574875,0.458467592129273,0.421895617478644,0.385323642828017,0.696185427358356,0.769329376659614,1.09847714851527,0.604755490731786,-0.218113938907351,0.202463769574875,2.85393193174543,0.933903262587441,0.805901351310242,-0.254685913557978,0.0744618582976757,0.00131790899641935,0.860759313286185,-0.236399926232664,1.02533319921401,0.239035744225503,1.02533319921401,1.18990708514184,-0.071826040304837,0.275607718876132,1.18990708514184,0.165891794924246,0.22074975690019,0.476753579454587,0.824187338635556,0.202463769574875,1.11676313584058,0.458467592129273,0.184177782249561,-0.0352540656542095,0.275607718876132,-0.144969989606093,1.17162109781652,0.239035744225503,0.403609630153331,0.31217969352676,1.88477460350378,0.330465680852073,1.06190517386464,1.0070472118887,-0.0901120276301514,1.22647905979247,0.677899440033043,0.440181604803959,0.769329376659614,0.458467592129273,0.440181604803959,0.84247332596087,0.641327465382414,1.29962300909372,0.22074975690019,0.22074975690019,0.933903262587441,1.55562683164812,0.6230414780571,1.09847714851527,0.165891794924246,1.24476504711778,-0.108398014955466,1.33619498374435,0.641327465382414,1.48248288234687,0.641327465382414,1.50076886967218,0.275607718876132,1.0070472118887,0.0927478456229901,1.24476504711778,0.988761224563383,0.531611541430529,0.805901351310242,1.29962300909372,0.824187338635556,2.1773504007088,0.586469503406473,0.933903262587441,0.513325554105215,-0.419259799485805,1.72020071757595,-0.12668400228078,0.7510433893343,1.18990708514184,1.06190517386464,-0.0901120276301514,1.37276695839498,0.403609630153331,2.03106250210629,0.879045300611498,0.586469503406473,0.513325554105215,1.17162109781652,0.22074975690019,1.08019116118995],"y":[-0.439188142288887,-1.55637297923625,-0.997780560762567,-1.35324846342764,-1.86105975294916,-1.30246733447548,-0.946999431810414,-1.91184088190131,-0.896218302858261,-1.75949749504486,-0.540750400193192,-1.75949749504486,-1.30246733447548,-1.30246733447548,-0.743874916001804,-1.86105975294916,-0.997780560762567,-1.35324846342764,-1.04856168971472,-1.45481072133194,-1.35324846342764,-1.35324846342764,-0.693093787049651,-1.04856168971472,-1.09934281866687,-1.45481072133194,-0.946999431810414,-0.946999431810414,-1.50559185028409,-1.35324846342764,-0.0837202396238188,-1.20090507657118,-0.439188142288887,-1.75949749504486,0.0686231472326396,-1.81027862399701,-0.743874916001804,-1.75949749504486,-0.591531529145346,-1.75949749504486,-1.09934281866687,-0.642312658097498,-1.65793523714055,-1.65793523714055,-0.642312658097498,-1.96262201085347,-0.693093787049651,-1.50559185028409,-1.55637297923625,-1.40402959237979,-1.09934281866687,-1.40402959237979,-0.896218302858261,-1.65793523714055,-1.09934281866687,-1.35324846342764,-0.946999431810414,-1.7087163660927,-1.15012394761902,-1.65793523714055,-0.743874916001804,-1.50559185028409,-0.185282497528124,-0.489969271241041,-1.50559185028409,-1.09934281866687,-1.09934281866687,-0.794656044953956,-0.794656044953956,-1.20090507657118,-1.09934281866687,-0.591531529145346,-1.50559185028409,-0.439188142288887,-1.7087163660927,-0.388407013336736,-1.35324846342764,-0.794656044953956,-1.30246733447548,-0.642312658097498,-1.7087163660927,0.0686231472326396,-1.40402959237979,-1.50559185028409,-1.6071541081884,-0.0837202396238188,-1.09934281866687,-0.0329391106716654,-1.35324846342764,-0.540750400193192,-1.25168620552333,-0.743874916001804,-0.693093787049651,-1.30246733447548,-1.40402959237979,-0.337625884384582,-1.09934281866687,-0.0837202396238188,-0.845437173906109,-1.09934281866687,-0.540750400193192,-1.25168620552333,-0.693093787049651,-1.6071541081884,-1.04856168971472,-0.997780560762567,-0.642312658097498,-0.997780560762567,-0.439188142288887,-1.55637297923625,-0.591531529145346,-0.489969271241041,-1.75949749504486,-1.45481072133194,-0.743874916001804,-1.20090507657118,-0.540750400193192],"frame":"1","type":"scatter","mode":"markers","name":"Gentoo<br />1","marker":{"color":"rgba(0,139,139,1)","symbol":"square","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,1)"},"error_y":{"color":"rgba(0,139,139,1)"},"error_x":{"color":"rgba(0,139,139,1)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[-0.327829862859235,-0.400973812160492,-1.53470502632997,-1.60784897563122,0.458467592129273,1.18990708514184,1.1350491231659,-1.73585088690842,-0.949553431919917,-0.0901120276301514,0.84247332596087,-0.784979545992088,-1.51641903900465,0.641327465382414,-1.0592693558718,-0.528975723437691,-0.218113938907351,0.403609630153331,0.275607718876132,-1.71756489958311,0.385323642828017,0.677899440033043,-0.474117761461749,0.275607718876132,-0.876409482618659,-0.144969989606093,-1.11412731784774,1.72020071757595,-1.16898527982369,-0.675263622040205,0.659613452707729,-1.22384324179963,0.293893706201446,0.440181604803959,1.24476504711778,-0.638691647389576,-1.33355916575151,2.85393193174543,0.641327465382414,0.22074975690019,0.458467592129273,-1.42498910237808,1.09847714851527,0.239035744225503,-0.528975723437691,-1.40670311505277,-0.620405660064261,-1.3152731784262,-0.894695469943974,-0.620405660064261,1.09847714851527,-1.51641903900465,0.513325554105215,1.44591090769624,-1.24212922912494,0.0196038963217338,-2.17471458271596,0.184177782249561,-1.24212922912494,1.46419689502155,-0.272971900883293,-1.91871076016157,-1.29698719110089,-0.528975723437691,0.367037655502702,0.257321731550817,-1.33355916575151,-0.876409482618659,-0.638691647389576,-1.27870120377557,-1.71756489958311,0.696185427358356,0.549897528755844,-1.15069929249837,-0.821551520642717,0.915617275262127,-0.474117761461749,0.513325554105215,0.495039566779902,1.04361918653933,-1.62613496295654,-0.364401837509864,-0.912981457269288,-0.272971900883293,2.1773504007088,0.641327465382414,-0.163255976931408,-1.46156107702871,-0.565547698088319,-0.912981457269288,-0.254685913557978,-0.803265533317403,-0.803265533317403,1.06190517386464,-0.0352540656542095,-0.96783941924523,-1.16898527982369,0.6230414780571,-0.858123495293346,1.86648861617846,-0.346115850184549,0.202463769574875,-1.42498910237808,-1.11412731784774,-0.583833685413634,-1.07755534319711,0.31217969352676,0.915617275262127,-1.22384324179963,1.55562683164812,0.586469503406473,0.458467592129273,-0.876409482618659,-1.07755534319711,0.458467592129273,-0.711835596690832,0.403609630153331,-1.64442095028185,0.879045300611498,0.7510433893343,2.03106250210629,-0.565547698088319,-0.108398014955466,-1.27870120377557,0.440181604803959,-1.42498910237808,0.769329376659614,0.421895617478644,-0.071826040304837,0.824187338635556,0.933903262587441,1.24476504711778,-1.07755534319711,0.933903262587441,-0.912981457269288,0.348751668177388,-0.419259799485805,-0.803265533317403,-1.13241330517306,0.165891794924246,0.31217969352676,-1.00441139389586,1.29962300909372],"y":[0.779558952562776,0.119404276184791,0.424091049897708,1.08424572627569,1.74440040265368,0.322528791993403,1.23658911313215,0.220966534089098,1.99830604741444,0.322528791993403,0.931902339419235,1.79518153160583,0.627215565706318,0.576434436754166,0.779558952562776,1.03346459732354,0.474872178849861,0.0178420182804862,0.881121210467081,0.728777823610625,0.373309920945555,0.728777823610625,0.881121210467081,-0.236063626480277,0.474872178849861,0.322528791993403,0.881121210467081,-0.0837202396238188,1.99830604741444,1.43971362894076,0.677996694658471,1.08424572627569,0.982683468371388,0.424091049897708,0.627215565706318,0.677996694658471,1.2873702420843,-0.134501368575972,0.83034008151493,0.931902339419235,0.373309920945555,0.27174766304125,0.881121210467081,0.373309920945555,1.18580798418,0.474872178849861,0.728777823610625,0.170185405136945,0.83034008151493,-0.286844755432429,0.982683468371388,-0.134501368575972,1.99830604741444,-0.0837202396238188,0.525653307802013,-0.0329391106716654,0.424091049897708,-0.489969271241041,0.982683468371388,-0.286844755432429,1.13502685522784,0.931902339419235,0.627215565706318,0.0178420182804862,0.881121210467081,0.170185405136945,0.677996694658471,-0.185282497528124,1.13502685522784,-0.540750400193192,0.982683468371388,0.0178420182804862,0.220966534089098,0.83034008151493,1.13502685522784,0.322528791993403,1.59205701579722,1.18580798418,0.728777823610625,1.03346459732354,0.83034008151493,0.424091049897708,0.474872178849861,-0.0329391106716654,0.474872178849861,0.0686231472326396,0.881121210467081,0.728777823610625,0.677996694658471,-0.540750400193192,0.677996694658471,0.373309920945555,1.43971362894076,-0.591531529145346,1.43971362894076,0.728777823610625,0.881121210467081,0.0178420182804862,1.43971362894076,-0.0837202396238188,0.931902339419235,-0.337625884384582,1.59205701579722,0.27174766304125,1.18580798418,1.79518153160583,0.576434436754166,-0.0837202396238188,1.69361927370152,-0.0837202396238188,0.728777823610625,0.0178420182804862,1.33815137103646,-0.0837202396238188,0.677996694658471,-0.642312658097498,0.931902339419235,0.220966534089098,0.576434436754166,-0.0329391106716654,0.424091049897708,0.373309920945555,1.03346459732354,0.677996694658471,0.677996694658471,0.220966534089098,0.170185405136945,0.170185405136945,1.49049475789291,-0.337625884384582,0.373309920945555,-0.0329391106716654,0.0178420182804862,-0.845437173906109,-0.0837202396238188,-0.185282497528124,0.779558952562776,0.728777823610625,0.627215565706318,0.322528791993403,0.474872178849861,-0.0329391106716654,0.677996694658471],"frame":"2","type":"scatter","mode":"markers","name":"Adelie<br />2","marker":{"color":"rgba(255,140,0,1)","symbol":"circle","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,1)"},"error_y":{"color":"rgba(255,140,0,1)"},"error_x":{"color":"rgba(255,140,0,1)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","visible":false},{"x":[-1.38841712772746,-0.693549609365518,0.0927478456229901,-0.693549609365518,-0.43754578681112,-0.821551520642717,0.458467592129273,1.0070472118887,0.860759313286185,0.00131790899641935,-1.75413687423374,1.0070472118887,0.915617275262127,1.33619498374435,0.403609630153331,1.18990708514184,-1.0592693558718,-0.144969989606093,-0.364401837509864,-1.827280823535,1.08019116118995,0.22074975690019,1.02533319921401,-0.144969989606093,-0.455831774136434,-0.236399926232664,-0.492403748787063,-0.0901120276301514,1.20819307246715,1.09847714851527,0.403609630153331,-1.04098336854649,1.28133702176841,-1.55299101365528,0.202463769574875,-0.949553431919917,-0.199827951582037,0.22074975690019,1.18990708514184,0.22074975690019,-1.46156107702871,-1.37013114040214,2.5613561345404,1.02533319921401,-0.528975723437691,-1.13241330517306,-0.218113938907351,-0.455831774136434,1.02533319921401,-0.803265533317403,0.385323642828017,-0.12668400228078,-0.693549609365518,1.06190517386464,1.46419689502155,0.202463769574875,0.257321731550817,-0.291257888208607,1.24476504711778,0.330465680852073,0.860759313286185,-1.47984706435403,-0.144969989606093,1.50076886967218,-0.784979545992088,0.275607718876132,-0.528975723437691,1.35448097106967],"y":[0.373309920945555,1.18580798418,1.03346459732354,0.779558952562776,1.33815137103646,0.322528791993403,0.525653307802013,0.525653307802013,0.881121210467081,1.38893249998861,0.322528791993403,1.59205701579722,0.0686231472326396,0.474872178849861,-0.0329391106716654,1.23658911313215,1.43971362894076,0.322528791993403,0.728777823610625,0.525653307802013,0.0686231472326396,0.170185405136945,-0.286844755432429,1.13502685522784,0.373309920945555,0.931902339419235,0.627215565706318,0.931902339419235,0.322528791993403,1.43971362894076,-0.286844755432429,1.84596266055798,-0.236063626480277,0.83034008151493,0.728777823610625,-0.185282497528124,0.576434436754166,1.79518153160583,-0.286844755432429,1.38893249998861,1.18580798418,0.170185405136945,0.982683468371388,-0.0837202396238188,0.373309920945555,0.677996694658471,0.373309920945555,1.23658911313215,0.779558952562776,0.0686231472326396,-0.388407013336736,0.931902339419235,0.0686231472326396,1.2873702420843,0.0686231472326396,0.83034008151493,-0.286844755432429,1.38893249998861,0.83034008151493,1.13502685522784,1.18580798418,-0.337625884384582,-0.0837202396238188,1.33815137103646,0.474872178849861,0.525653307802013,0.931902339419235,0.779558952562776],"frame":"2","type":"scatter","mode":"markers","name":"Chinstrap<br />2","marker":{"color":"rgba(160,32,240,1)","symbol":"triangle-up","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,1)"},"error_y":{"color":"rgba(160,32,240,1)"},"error_x":{"color":"rgba(160,32,240,1)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","visible":false},{"x":[-1.35184515307683,-1.55299101365528,0.476753579454587,-0.327829862859235,1.33619498374435,1.29962300909372,0.330465680852073,0.531611541430529,1.2630510344431,1.22647905979247,0.0196038963217338,-0.12668400228078,1.1350491231659,1.40933893304561,-1.07755534319711,0.513325554105215,-1.38841712772746,1.59219880629875,1.0070472118887,-1.15069929249837,1.50076886967218,0.970475237238068,-0.821551520642717,0.293893706201446,0.440181604803959,1.24476504711778,-0.620405660064261,0.952189249912755,1.09847714851527,1.37276695839498,1.33619498374435,-1.47984706435403,0.952189249912755,1.88477460350378,-0.565547698088319,1.15333511049121,1.2630510344431,-0.602119672738947,0.933903262587441,-1.46156107702871,-1.64442095028185,0.805901351310242,-1.15069929249837,0.513325554105215,0.330465680852073,1.46419689502155,0.604755490731786,2.15906441338349,1.18990708514184,0.641327465382414,0.769329376659614,0.275607718876132,0.31217969352676,1.11676313584058,-0.272971900883293,0.275607718876132,-1.51641903900465,1.17162109781652,1.73848670490126,-1.58956298830591,-1.37013114040214,0.824187338635556,-0.949553431919917,-1.35184515307683,0.22074975690019,0.476753579454587,1.37276695839498,-0.620405660064261,1.61048479362406,-0.528975723437691,-0.766693558666775,-0.784979545992088,0.659613452707729,1.48248288234687,-0.492403748787063,-0.784979545992088,0.970475237238068,1.11676313584058,-0.675263622040205,1.18990708514184,1.22647905979247,0.586469503406473,-0.236399926232664,0.860759313286185,-1.13241330517306,-0.547261710763005,0.0744618582976757,-0.0901120276301514,0.22074975690019,0.805901351310242,1.09847714851527,-0.986125406570544,1.06190517386464,-1.187271267149,-1.99185470946282,1.1350491231659,0.440181604803959,-1.46156107702871,1.17162109781652,-0.931267444594602,-1.22384324179963,-0.528975723437691,0.495039566779902,0.239035744225503,0.824187338635556,-0.803265533317403,0.165891794924246,0.7510433893343,-0.931267444594602,0.531611541430529,-0.986125406570544,-1.16898527982369,1.33619498374435,-0.565547698088319,0.805901351310242,0.988761224563383,-0.583833685413634],"y":[-0.439188142288887,-1.55637297923625,-0.997780560762567,-1.35324846342764,-1.86105975294916,-1.30246733447548,-0.946999431810414,-1.91184088190131,-0.896218302858261,-1.75949749504486,-0.540750400193192,-1.75949749504486,-1.30246733447548,-1.30246733447548,-0.743874916001804,-1.86105975294916,-0.997780560762567,-1.35324846342764,-1.04856168971472,-1.45481072133194,-1.35324846342764,-1.35324846342764,-0.693093787049651,-1.04856168971472,-1.09934281866687,-1.45481072133194,-0.946999431810414,-0.946999431810414,-1.50559185028409,-1.35324846342764,-0.0837202396238188,-1.20090507657118,-0.439188142288887,-1.75949749504486,0.0686231472326396,-1.81027862399701,-0.743874916001804,-1.75949749504486,-0.591531529145346,-1.75949749504486,-1.09934281866687,-0.642312658097498,-1.65793523714055,-1.65793523714055,-0.642312658097498,-1.96262201085347,-0.693093787049651,-1.50559185028409,-1.55637297923625,-1.40402959237979,-1.09934281866687,-1.40402959237979,-0.896218302858261,-1.65793523714055,-1.09934281866687,-1.35324846342764,-0.946999431810414,-1.7087163660927,-1.15012394761902,-1.65793523714055,-0.743874916001804,-1.50559185028409,-0.185282497528124,-0.489969271241041,-1.50559185028409,-1.09934281866687,-1.09934281866687,-0.794656044953956,-0.794656044953956,-1.20090507657118,-1.09934281866687,-0.591531529145346,-1.50559185028409,-0.439188142288887,-1.7087163660927,-0.388407013336736,-1.35324846342764,-0.794656044953956,-1.30246733447548,-0.642312658097498,-1.7087163660927,0.0686231472326396,-1.40402959237979,-1.50559185028409,-1.6071541081884,-0.0837202396238188,-1.09934281866687,-0.0329391106716654,-1.35324846342764,-0.540750400193192,-1.25168620552333,-0.743874916001804,-0.693093787049651,-1.30246733447548,-1.40402959237979,-0.337625884384582,-1.09934281866687,-0.0837202396238188,-0.845437173906109,-1.09934281866687,-0.540750400193192,-1.25168620552333,-0.693093787049651,-1.6071541081884,-1.04856168971472,-0.997780560762567,-0.642312658097498,-0.997780560762567,-0.439188142288887,-1.55637297923625,-0.591531529145346,-0.489969271241041,-1.75949749504486,-1.45481072133194,-0.743874916001804,-1.20090507657118,-0.540750400193192],"frame":"2","type":"scatter","mode":"markers","name":"Gentoo<br />2","marker":{"color":"rgba(0,139,139,1)","symbol":"square","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,1)"},"error_y":{"color":"rgba(0,139,139,1)"},"error_x":{"color":"rgba(0,139,139,1)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","visible":false}],"traces":[0,1,2]},{"name":"2","data":[{"x":[-0.327829862859235,-0.400973812160492,-1.53470502632997,-1.60784897563122,0.458467592129273,1.18990708514184,1.1350491231659,-1.73585088690842,-0.949553431919917,-0.0901120276301514,0.84247332596087,-0.784979545992088,-1.51641903900465,0.641327465382414,-1.0592693558718,-0.528975723437691,-0.218113938907351,0.403609630153331,0.275607718876132,-1.71756489958311,0.385323642828017,0.677899440033043,-0.474117761461749,0.275607718876132,-0.876409482618659,-0.144969989606093,-1.11412731784774,1.72020071757595,-1.16898527982369,-0.675263622040205,0.659613452707729,-1.22384324179963,0.293893706201446,0.440181604803959,1.24476504711778,-0.638691647389576,-1.33355916575151,2.85393193174543,0.641327465382414,0.22074975690019,0.458467592129273,-1.42498910237808,1.09847714851527,0.239035744225503,-0.528975723437691,-1.40670311505277,-0.620405660064261,-1.3152731784262,-0.894695469943974,-0.620405660064261,1.09847714851527,-1.51641903900465,0.513325554105215,1.44591090769624,-1.24212922912494,0.0196038963217338,-2.17471458271596,0.184177782249561,-1.24212922912494,1.46419689502155,-0.272971900883293,-1.91871076016157,-1.29698719110089,-0.528975723437691,0.367037655502702,0.257321731550817,-1.33355916575151,-0.876409482618659,-0.638691647389576,-1.27870120377557,-1.71756489958311,0.696185427358356,0.549897528755844,-1.15069929249837,-0.821551520642717,0.915617275262127,-0.474117761461749,0.513325554105215,0.495039566779902,1.04361918653933,-1.62613496295654,-0.364401837509864,-0.912981457269288,-0.272971900883293,2.1773504007088,0.641327465382414,-0.163255976931408,-1.46156107702871,-0.565547698088319,-0.912981457269288,-0.254685913557978,-0.803265533317403,-0.803265533317403,1.06190517386464,-0.0352540656542095,-0.96783941924523,-1.16898527982369,0.6230414780571,-0.858123495293346,1.86648861617846,-0.346115850184549,0.202463769574875,-1.42498910237808,-1.11412731784774,-0.583833685413634,-1.07755534319711,0.31217969352676,0.915617275262127,-1.22384324179963,1.55562683164812,0.586469503406473,0.458467592129273,-0.876409482618659,-1.07755534319711,0.458467592129273,-0.711835596690832,0.403609630153331,-1.64442095028185,0.879045300611498,0.7510433893343,2.03106250210629,-0.565547698088319,-0.108398014955466,-1.27870120377557,0.440181604803959,-1.42498910237808,0.769329376659614,0.421895617478644,-0.071826040304837,0.824187338635556,0.933903262587441,1.24476504711778,-1.07755534319711,0.933903262587441,-0.912981457269288,0.348751668177388,-0.419259799485805,-0.803265533317403,-1.13241330517306,0.165891794924246,0.31217969352676,-1.00441139389586,1.29962300909372],"y":[0.779558952562776,0.119404276184791,0.424091049897708,1.08424572627569,1.74440040265368,0.322528791993403,1.23658911313215,0.220966534089098,1.99830604741444,0.322528791993403,0.931902339419235,1.79518153160583,0.627215565706318,0.576434436754166,0.779558952562776,1.03346459732354,0.474872178849861,0.0178420182804862,0.881121210467081,0.728777823610625,0.373309920945555,0.728777823610625,0.881121210467081,-0.236063626480277,0.474872178849861,0.322528791993403,0.881121210467081,-0.0837202396238188,1.99830604741444,1.43971362894076,0.677996694658471,1.08424572627569,0.982683468371388,0.424091049897708,0.627215565706318,0.677996694658471,1.2873702420843,-0.134501368575972,0.83034008151493,0.931902339419235,0.373309920945555,0.27174766304125,0.881121210467081,0.373309920945555,1.18580798418,0.474872178849861,0.728777823610625,0.170185405136945,0.83034008151493,-0.286844755432429,0.982683468371388,-0.134501368575972,1.99830604741444,-0.0837202396238188,0.525653307802013,-0.0329391106716654,0.424091049897708,-0.489969271241041,0.982683468371388,-0.286844755432429,1.13502685522784,0.931902339419235,0.627215565706318,0.0178420182804862,0.881121210467081,0.170185405136945,0.677996694658471,-0.185282497528124,1.13502685522784,-0.540750400193192,0.982683468371388,0.0178420182804862,0.220966534089098,0.83034008151493,1.13502685522784,0.322528791993403,1.59205701579722,1.18580798418,0.728777823610625,1.03346459732354,0.83034008151493,0.424091049897708,0.474872178849861,-0.0329391106716654,0.474872178849861,0.0686231472326396,0.881121210467081,0.728777823610625,0.677996694658471,-0.540750400193192,0.677996694658471,0.373309920945555,1.43971362894076,-0.591531529145346,1.43971362894076,0.728777823610625,0.881121210467081,0.0178420182804862,1.43971362894076,-0.0837202396238188,0.931902339419235,-0.337625884384582,1.59205701579722,0.27174766304125,1.18580798418,1.79518153160583,0.576434436754166,-0.0837202396238188,1.69361927370152,-0.0837202396238188,0.728777823610625,0.0178420182804862,1.33815137103646,-0.0837202396238188,0.677996694658471,-0.642312658097498,0.931902339419235,0.220966534089098,0.576434436754166,-0.0329391106716654,0.424091049897708,0.373309920945555,1.03346459732354,0.677996694658471,0.677996694658471,0.220966534089098,0.170185405136945,0.170185405136945,1.49049475789291,-0.337625884384582,0.373309920945555,-0.0329391106716654,0.0178420182804862,-0.845437173906109,-0.0837202396238188,-0.185282497528124,0.779558952562776,0.728777823610625,0.627215565706318,0.322528791993403,0.474872178849861,-0.0329391106716654,0.677996694658471],"frame":"2","type":"scatter","mode":"markers","name":"Adelie<br />2","marker":{"color":"rgba(255,140,0,1)","symbol":"circle","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,1)"},"error_y":{"color":"rgba(255,140,0,1)"},"error_x":{"color":"rgba(255,140,0,1)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[-1.38841712772746,-0.693549609365518,0.0927478456229901,-0.693549609365518,-0.43754578681112,-0.821551520642717,0.458467592129273,1.0070472118887,0.860759313286185,0.00131790899641935,-1.75413687423374,1.0070472118887,0.915617275262127,1.33619498374435,0.403609630153331,1.18990708514184,-1.0592693558718,-0.144969989606093,-0.364401837509864,-1.827280823535,1.08019116118995,0.22074975690019,1.02533319921401,-0.144969989606093,-0.455831774136434,-0.236399926232664,-0.492403748787063,-0.0901120276301514,1.20819307246715,1.09847714851527,0.403609630153331,-1.04098336854649,1.28133702176841,-1.55299101365528,0.202463769574875,-0.949553431919917,-0.199827951582037,0.22074975690019,1.18990708514184,0.22074975690019,-1.46156107702871,-1.37013114040214,2.5613561345404,1.02533319921401,-0.528975723437691,-1.13241330517306,-0.218113938907351,-0.455831774136434,1.02533319921401,-0.803265533317403,0.385323642828017,-0.12668400228078,-0.693549609365518,1.06190517386464,1.46419689502155,0.202463769574875,0.257321731550817,-0.291257888208607,1.24476504711778,0.330465680852073,0.860759313286185,-1.47984706435403,-0.144969989606093,1.50076886967218,-0.784979545992088,0.275607718876132,-0.528975723437691,1.35448097106967],"y":[0.373309920945555,1.18580798418,1.03346459732354,0.779558952562776,1.33815137103646,0.322528791993403,0.525653307802013,0.525653307802013,0.881121210467081,1.38893249998861,0.322528791993403,1.59205701579722,0.0686231472326396,0.474872178849861,-0.0329391106716654,1.23658911313215,1.43971362894076,0.322528791993403,0.728777823610625,0.525653307802013,0.0686231472326396,0.170185405136945,-0.286844755432429,1.13502685522784,0.373309920945555,0.931902339419235,0.627215565706318,0.931902339419235,0.322528791993403,1.43971362894076,-0.286844755432429,1.84596266055798,-0.236063626480277,0.83034008151493,0.728777823610625,-0.185282497528124,0.576434436754166,1.79518153160583,-0.286844755432429,1.38893249998861,1.18580798418,0.170185405136945,0.982683468371388,-0.0837202396238188,0.373309920945555,0.677996694658471,0.373309920945555,1.23658911313215,0.779558952562776,0.0686231472326396,-0.388407013336736,0.931902339419235,0.0686231472326396,1.2873702420843,0.0686231472326396,0.83034008151493,-0.286844755432429,1.38893249998861,0.83034008151493,1.13502685522784,1.18580798418,-0.337625884384582,-0.0837202396238188,1.33815137103646,0.474872178849861,0.525653307802013,0.931902339419235,0.779558952562776],"frame":"2","type":"scatter","mode":"markers","name":"Chinstrap<br />2","marker":{"color":"rgba(160,32,240,1)","symbol":"triangle-up","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,1)"},"error_y":{"color":"rgba(160,32,240,1)"},"error_x":{"color":"rgba(160,32,240,1)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[-1.35184515307683,-1.55299101365528,0.476753579454587,-0.327829862859235,1.33619498374435,1.29962300909372,0.330465680852073,0.531611541430529,1.2630510344431,1.22647905979247,0.0196038963217338,-0.12668400228078,1.1350491231659,1.40933893304561,-1.07755534319711,0.513325554105215,-1.38841712772746,1.59219880629875,1.0070472118887,-1.15069929249837,1.50076886967218,0.970475237238068,-0.821551520642717,0.293893706201446,0.440181604803959,1.24476504711778,-0.620405660064261,0.952189249912755,1.09847714851527,1.37276695839498,1.33619498374435,-1.47984706435403,0.952189249912755,1.88477460350378,-0.565547698088319,1.15333511049121,1.2630510344431,-0.602119672738947,0.933903262587441,-1.46156107702871,-1.64442095028185,0.805901351310242,-1.15069929249837,0.513325554105215,0.330465680852073,1.46419689502155,0.604755490731786,2.15906441338349,1.18990708514184,0.641327465382414,0.769329376659614,0.275607718876132,0.31217969352676,1.11676313584058,-0.272971900883293,0.275607718876132,-1.51641903900465,1.17162109781652,1.73848670490126,-1.58956298830591,-1.37013114040214,0.824187338635556,-0.949553431919917,-1.35184515307683,0.22074975690019,0.476753579454587,1.37276695839498,-0.620405660064261,1.61048479362406,-0.528975723437691,-0.766693558666775,-0.784979545992088,0.659613452707729,1.48248288234687,-0.492403748787063,-0.784979545992088,0.970475237238068,1.11676313584058,-0.675263622040205,1.18990708514184,1.22647905979247,0.586469503406473,-0.236399926232664,0.860759313286185,-1.13241330517306,-0.547261710763005,0.0744618582976757,-0.0901120276301514,0.22074975690019,0.805901351310242,1.09847714851527,-0.986125406570544,1.06190517386464,-1.187271267149,-1.99185470946282,1.1350491231659,0.440181604803959,-1.46156107702871,1.17162109781652,-0.931267444594602,-1.22384324179963,-0.528975723437691,0.495039566779902,0.239035744225503,0.824187338635556,-0.803265533317403,0.165891794924246,0.7510433893343,-0.931267444594602,0.531611541430529,-0.986125406570544,-1.16898527982369,1.33619498374435,-0.565547698088319,0.805901351310242,0.988761224563383,-0.583833685413634],"y":[-0.439188142288887,-1.55637297923625,-0.997780560762567,-1.35324846342764,-1.86105975294916,-1.30246733447548,-0.946999431810414,-1.91184088190131,-0.896218302858261,-1.75949749504486,-0.540750400193192,-1.75949749504486,-1.30246733447548,-1.30246733447548,-0.743874916001804,-1.86105975294916,-0.997780560762567,-1.35324846342764,-1.04856168971472,-1.45481072133194,-1.35324846342764,-1.35324846342764,-0.693093787049651,-1.04856168971472,-1.09934281866687,-1.45481072133194,-0.946999431810414,-0.946999431810414,-1.50559185028409,-1.35324846342764,-0.0837202396238188,-1.20090507657118,-0.439188142288887,-1.75949749504486,0.0686231472326396,-1.81027862399701,-0.743874916001804,-1.75949749504486,-0.591531529145346,-1.75949749504486,-1.09934281866687,-0.642312658097498,-1.65793523714055,-1.65793523714055,-0.642312658097498,-1.96262201085347,-0.693093787049651,-1.50559185028409,-1.55637297923625,-1.40402959237979,-1.09934281866687,-1.40402959237979,-0.896218302858261,-1.65793523714055,-1.09934281866687,-1.35324846342764,-0.946999431810414,-1.7087163660927,-1.15012394761902,-1.65793523714055,-0.743874916001804,-1.50559185028409,-0.185282497528124,-0.489969271241041,-1.50559185028409,-1.09934281866687,-1.09934281866687,-0.794656044953956,-0.794656044953956,-1.20090507657118,-1.09934281866687,-0.591531529145346,-1.50559185028409,-0.439188142288887,-1.7087163660927,-0.388407013336736,-1.35324846342764,-0.794656044953956,-1.30246733447548,-0.642312658097498,-1.7087163660927,0.0686231472326396,-1.40402959237979,-1.50559185028409,-1.6071541081884,-0.0837202396238188,-1.09934281866687,-0.0329391106716654,-1.35324846342764,-0.540750400193192,-1.25168620552333,-0.743874916001804,-0.693093787049651,-1.30246733447548,-1.40402959237979,-0.337625884384582,-1.09934281866687,-0.0837202396238188,-0.845437173906109,-1.09934281866687,-0.540750400193192,-1.25168620552333,-0.693093787049651,-1.6071541081884,-1.04856168971472,-0.997780560762567,-0.642312658097498,-0.997780560762567,-0.439188142288887,-1.55637297923625,-0.591531529145346,-0.489969271241041,-1.75949749504486,-1.45481072133194,-0.743874916001804,-1.20090507657118,-0.540750400193192],"frame":"2","type":"scatter","mode":"markers","name":"Gentoo<br />2","marker":{"color":"rgba(0,139,139,1)","symbol":"square","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,1)"},"error_y":{"color":"rgba(0,139,139,1)"},"error_x":{"color":"rgba(0,139,139,1)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[-0.894695469943974,-0.821551520642717,-0.675263622040205,-1.33355916575151,-0.858123495293346,-0.931267444594602,-0.876409482618659,-0.528975723437691,-1.71756489958311,-1.35184515307683,-0.96783941924523,-0.272971900883293,-1.75413687423374,-1.13241330517306,-1.15069929249837,-1.47984706435403,-1.0592693558718,-0.949553431919917,-1.58956298830591,-0.620405660064261,-0.638691647389576,-1.11412731784774,-0.638691647389576,-0.821551520642717,-1.24212922912494,-0.821551520642717,-0.565547698088319,-1.38841712772746,-0.876409482618659,-0.949553431919917,-0.327829862859235,-1.16898527982369,-0.766693558666775,-1.37013114040214,-0.583833685413634,-1.46156107702871,0.0196038963217338,-1.27870120377557,-0.803265533317403,-0.528975723437691,-1.46156107702871,-0.803265533317403,-0.711835596690832,-1.64442095028185,-0.364401837509864,-1.73585088690842,-0.474117761461749,-0.912981457269288,-0.620405660064261,-1.37013114040214,-1.16898527982369,-1.51641903900465,-0.492403748787063,-1.16898527982369,-0.528975723437691,-1.38841712772746,-0.43754578681112,-1.55299101365528,-0.528975723437691,-1.47984706435403,-0.400973812160492,-1.91871076016157,-0.784979545992088,-0.803265533317403,0.330465680852073,-1.55299101365528,-0.218113938907351,-0.565547698088319,-1.24212922912494,-1.42498910237808,-0.346115850184549,-1.71756489958311,-0.199827951582037,-1.33355916575151,-1.62613496295654,-1.22384324179963,-0.492403748787063,-1.40670311505277,-1.29698719110089,-1.04098336854649,-0.931267444594602,-1.51641903900465,-0.528975723437691,-1.827280823535,-0.803265533317403,-1.42498910237808,-0.583833685413634,-1.07755534319711,-0.675263622040205,-1.99185470946282,-0.144969989606093,-1.64442095028185,-0.547261710763005,-1.15069929249837,-1.13241330517306,-1.11412731784774,-0.784979545992088,-0.986125406570544,-1.0592693558718,-1.07755534319711,-0.144969989606093,-1.07755534319711,0.293893706201446,-0.784979545992088,-0.327829862859235,-0.803265533317403,-0.236399926232664,-0.986125406570544,-1.22384324179963,-1.51641903900465,-0.528975723437691,-1.42498910237808,-1.15069929249837,-0.693549609365518,-0.474117761461749,-1.60784897563122,-0.620405660064261,-0.949553431919917,-0.455831774136434,-0.912981457269288,0.0196038963217338,-1.00441139389586,-0.163255976931408,-1.3152731784262,-1.187271267149,-1.07755534319711,-0.528975723437691,-1.53470502632997,-0.693549609365518,-1.27870120377557,-0.784979545992088,-0.693549609365518,-0.620405660064261,-2.17471458271596,-0.602119672738947,-1.22384324179963,-0.912981457269288,-0.876409482618659,-1.35184515307683,-1.46156107702871,-1.13241330517306,-1.46156107702871,-0.455831774136434],"y":[0.779558952562776,0.119404276184791,0.424091049897708,1.08424572627569,1.74440040265368,0.322528791993403,1.23658911313215,0.220966534089098,1.99830604741444,0.322528791993403,0.931902339419235,1.79518153160583,0.627215565706318,0.576434436754166,0.779558952562776,1.03346459732354,0.474872178849861,0.0178420182804862,0.881121210467081,0.728777823610625,0.373309920945555,0.728777823610625,0.881121210467081,-0.236063626480277,0.474872178849861,0.322528791993403,0.881121210467081,-0.0837202396238188,1.99830604741444,1.43971362894076,0.677996694658471,1.08424572627569,0.982683468371388,0.424091049897708,0.627215565706318,0.677996694658471,1.2873702420843,-0.134501368575972,0.83034008151493,0.931902339419235,0.373309920945555,0.27174766304125,0.881121210467081,0.373309920945555,1.18580798418,0.474872178849861,0.728777823610625,0.170185405136945,0.83034008151493,-0.286844755432429,0.982683468371388,-0.134501368575972,1.99830604741444,-0.0837202396238188,0.525653307802013,-0.0329391106716654,0.424091049897708,-0.489969271241041,0.982683468371388,-0.286844755432429,1.13502685522784,0.931902339419235,0.627215565706318,0.0178420182804862,0.881121210467081,0.170185405136945,0.677996694658471,-0.185282497528124,1.13502685522784,-0.540750400193192,0.982683468371388,0.0178420182804862,0.220966534089098,0.83034008151493,1.13502685522784,0.322528791993403,1.59205701579722,1.18580798418,0.728777823610625,1.03346459732354,0.83034008151493,0.424091049897708,0.474872178849861,-0.0329391106716654,0.474872178849861,0.0686231472326396,0.881121210467081,0.728777823610625,0.677996694658471,-0.540750400193192,0.677996694658471,0.373309920945555,1.43971362894076,-0.591531529145346,1.43971362894076,0.728777823610625,0.881121210467081,0.0178420182804862,1.43971362894076,-0.0837202396238188,0.931902339419235,-0.337625884384582,1.59205701579722,0.27174766304125,1.18580798418,1.79518153160583,0.576434436754166,-0.0837202396238188,1.69361927370152,-0.0837202396238188,0.728777823610625,0.0178420182804862,1.33815137103646,-0.0837202396238188,0.677996694658471,-0.642312658097498,0.931902339419235,0.220966534089098,0.576434436754166,-0.0329391106716654,0.424091049897708,0.373309920945555,1.03346459732354,0.677996694658471,0.677996694658471,0.220966534089098,0.170185405136945,0.170185405136945,1.49049475789291,-0.337625884384582,0.373309920945555,-0.0329391106716654,0.0178420182804862,-0.845437173906109,-0.0837202396238188,-0.185282497528124,0.779558952562776,0.728777823610625,0.627215565706318,0.322528791993403,0.474872178849861,-0.0329391106716654,0.677996694658471],"frame":"1","type":"scatter","mode":"markers","name":"Adelie<br />1","marker":{"color":"rgba(255,140,0,1)","symbol":"circle","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,1)"},"error_y":{"color":"rgba(255,140,0,1)"},"error_x":{"color":"rgba(255,140,0,1)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","visible":false},{"x":[0.458467592129273,1.09847714851527,1.33619498374435,0.257321731550817,1.59219880629875,0.22074975690019,0.385323642828017,1.33619498374435,0.367037655502702,1.33619498374435,0.476753579454587,1.40933893304561,0.549897528755844,1.46419689502155,0.348751668177388,1.18990708514184,1.15333511049121,2.5613561345404,0.440181604803959,0.952189249912755,-0.291257888208607,0.824187338635556,-0.144969989606093,1.20819307246715,0.495039566779902,1.46419689502155,1.18990708514184,1.0070472118887,0.440181604803959,1.61048479362406,-0.565547698088319,1.86648861617846,-0.272971900883293,1.28133702176841,1.04361918653933,0.641327465382414,0.659613452707729,1.46419689502155,0.531611541430529,1.73848670490126,0.915617275262127,0.403609630153331,1.2630510344431,0.275607718876132,1.2630510344431,1.24476504711778,1.11676313584058,0.915617275262127,1.37276695839498,1.06190517386464,0.7510433893343,1.35448097106967,0.31217969352676,1.22647905979247,-0.272971900883293,1.50076886967218,0.22074975690019,0.970475237238068,1.1350491231659,0.293893706201446,1.44591090769624,0.513325554105215,0.31217969352676,2.15906441338349,-0.0901120276301514,1.02533319921401,1.24476504711778,1.1350491231659],"y":[0.373309920945555,1.18580798418,1.03346459732354,0.779558952562776,1.33815137103646,0.322528791993403,0.525653307802013,0.525653307802013,0.881121210467081,1.38893249998861,0.322528791993403,1.59205701579722,0.0686231472326396,0.474872178849861,-0.0329391106716654,1.23658911313215,1.43971362894076,0.322528791993403,0.728777823610625,0.525653307802013,0.0686231472326396,0.170185405136945,-0.286844755432429,1.13502685522784,0.373309920945555,0.931902339419235,0.627215565706318,0.931902339419235,0.322528791993403,1.43971362894076,-0.286844755432429,1.84596266055798,-0.236063626480277,0.83034008151493,0.728777823610625,-0.185282497528124,0.576434436754166,1.79518153160583,-0.286844755432429,1.38893249998861,1.18580798418,0.170185405136945,0.982683468371388,-0.0837202396238188,0.373309920945555,0.677996694658471,0.373309920945555,1.23658911313215,0.779558952562776,0.0686231472326396,-0.388407013336736,0.931902339419235,0.0686231472326396,1.2873702420843,0.0686231472326396,0.83034008151493,-0.286844755432429,1.38893249998861,0.83034008151493,1.13502685522784,1.18580798418,-0.337625884384582,-0.0837202396238188,1.33815137103646,0.474872178849861,0.525653307802013,0.931902339419235,0.779558952562776],"frame":"1","type":"scatter","mode":"markers","name":"Chinstrap<br />1","marker":{"color":"rgba(160,32,240,1)","symbol":"triangle-up","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,1)"},"error_y":{"color":"rgba(160,32,240,1)"},"error_x":{"color":"rgba(160,32,240,1)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","visible":false},{"x":[1.09847714851527,0.860759313286185,1.09847714851527,0.659613452707729,0.458467592129273,0.257321731550817,0.495039566779902,-0.12668400228078,0.513325554105215,-0.565547698088319,0.915617275262127,0.275607718876132,0.805901351310242,0.330465680852073,0.970475237238068,-0.364401837509864,0.952189249912755,0.403609630153331,0.860759313286185,1.1350491231659,0.202463769574875,0.458467592129273,0.421895617478644,0.385323642828017,0.696185427358356,0.769329376659614,1.09847714851527,0.604755490731786,-0.218113938907351,0.202463769574875,2.85393193174543,0.933903262587441,0.805901351310242,-0.254685913557978,0.0744618582976757,0.00131790899641935,0.860759313286185,-0.236399926232664,1.02533319921401,0.239035744225503,1.02533319921401,1.18990708514184,-0.071826040304837,0.275607718876132,1.18990708514184,0.165891794924246,0.22074975690019,0.476753579454587,0.824187338635556,0.202463769574875,1.11676313584058,0.458467592129273,0.184177782249561,-0.0352540656542095,0.275607718876132,-0.144969989606093,1.17162109781652,0.239035744225503,0.403609630153331,0.31217969352676,1.88477460350378,0.330465680852073,1.06190517386464,1.0070472118887,-0.0901120276301514,1.22647905979247,0.677899440033043,0.440181604803959,0.769329376659614,0.458467592129273,0.440181604803959,0.84247332596087,0.641327465382414,1.29962300909372,0.22074975690019,0.22074975690019,0.933903262587441,1.55562683164812,0.6230414780571,1.09847714851527,0.165891794924246,1.24476504711778,-0.108398014955466,1.33619498374435,0.641327465382414,1.48248288234687,0.641327465382414,1.50076886967218,0.275607718876132,1.0070472118887,0.0927478456229901,1.24476504711778,0.988761224563383,0.531611541430529,0.805901351310242,1.29962300909372,0.824187338635556,2.1773504007088,0.586469503406473,0.933903262587441,0.513325554105215,-0.419259799485805,1.72020071757595,-0.12668400228078,0.7510433893343,1.18990708514184,1.06190517386464,-0.0901120276301514,1.37276695839498,0.403609630153331,2.03106250210629,0.879045300611498,0.586469503406473,0.513325554105215,1.17162109781652,0.22074975690019,1.08019116118995],"y":[-0.439188142288887,-1.55637297923625,-0.997780560762567,-1.35324846342764,-1.86105975294916,-1.30246733447548,-0.946999431810414,-1.91184088190131,-0.896218302858261,-1.75949749504486,-0.540750400193192,-1.75949749504486,-1.30246733447548,-1.30246733447548,-0.743874916001804,-1.86105975294916,-0.997780560762567,-1.35324846342764,-1.04856168971472,-1.45481072133194,-1.35324846342764,-1.35324846342764,-0.693093787049651,-1.04856168971472,-1.09934281866687,-1.45481072133194,-0.946999431810414,-0.946999431810414,-1.50559185028409,-1.35324846342764,-0.0837202396238188,-1.20090507657118,-0.439188142288887,-1.75949749504486,0.0686231472326396,-1.81027862399701,-0.743874916001804,-1.75949749504486,-0.591531529145346,-1.75949749504486,-1.09934281866687,-0.642312658097498,-1.65793523714055,-1.65793523714055,-0.642312658097498,-1.96262201085347,-0.693093787049651,-1.50559185028409,-1.55637297923625,-1.40402959237979,-1.09934281866687,-1.40402959237979,-0.896218302858261,-1.65793523714055,-1.09934281866687,-1.35324846342764,-0.946999431810414,-1.7087163660927,-1.15012394761902,-1.65793523714055,-0.743874916001804,-1.50559185028409,-0.185282497528124,-0.489969271241041,-1.50559185028409,-1.09934281866687,-1.09934281866687,-0.794656044953956,-0.794656044953956,-1.20090507657118,-1.09934281866687,-0.591531529145346,-1.50559185028409,-0.439188142288887,-1.7087163660927,-0.388407013336736,-1.35324846342764,-0.794656044953956,-1.30246733447548,-0.642312658097498,-1.7087163660927,0.0686231472326396,-1.40402959237979,-1.50559185028409,-1.6071541081884,-0.0837202396238188,-1.09934281866687,-0.0329391106716654,-1.35324846342764,-0.540750400193192,-1.25168620552333,-0.743874916001804,-0.693093787049651,-1.30246733447548,-1.40402959237979,-0.337625884384582,-1.09934281866687,-0.0837202396238188,-0.845437173906109,-1.09934281866687,-0.540750400193192,-1.25168620552333,-0.693093787049651,-1.6071541081884,-1.04856168971472,-0.997780560762567,-0.642312658097498,-0.997780560762567,-0.439188142288887,-1.55637297923625,-0.591531529145346,-0.489969271241041,-1.75949749504486,-1.45481072133194,-0.743874916001804,-1.20090507657118,-0.540750400193192],"frame":"1","type":"scatter","mode":"markers","name":"Gentoo<br />1","marker":{"color":"rgba(0,139,139,1)","symbol":"square","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,1)"},"error_y":{"color":"rgba(0,139,139,1)"},"error_x":{"color":"rgba(0,139,139,1)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","visible":false}],"traces":[0,1,2]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly",".hideLegend":true},"evals":[],"jsHooks":[]}</script>

---

## Assessing variable importance 

<div id="htmlwidget-484f2aa97443e0c246eb" style="width:750px;height:450px;" class="plotly html-widget "></div>
<script type="application/json" data-for="htmlwidget-484f2aa97443e0c246eb">{"x":{"visdat":{"29d42608462":["function () ","plotlyVisDat"],"29d44d855ff5":["function () ","data"],"29d47790afd":["function () ","data"],"29d420345c96":["function () ","data"]},"cur_data":"29d420345c96","attrs":{"29d42608462":{"x":{},"y":{},"color":{},"symbol":{},"colors":["darkorange","purple","cyan4"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"markers","inherit":true},"29d44d855ff5":{"x":{},"y":{},"type":"scatter","fill":"toself","mode":"lines","frame":{},"color":["darkorange"],"alpha":[0.2],"inherit":false},"29d47790afd":{"x":{},"y":{},"type":"scatter","fill":"toself","mode":"lines","frame":{},"color":["purple"],"alpha":[0.2],"inherit":false},"29d420345c96":{"x":{},"y":{},"type":"scatter","fill":"toself","mode":"lines","frame":{},"color":["cyan4"],"alpha":[0.2],"inherit":false}},"layout":{"width":750,"height":450,"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"<b>Bill length, scaled<\/b>","range":[-3.1,3.1],"showgrid":false,"zerolinecolor":"white","titlefont":{"size":20},"tickvals":[-3,-2,-1,0,1,2,3]},"yaxis":{"domain":[0,1],"automargin":true,"title":"<b>Bill depth, scaled<\/b>","range":[-2.1,2.1],"showgrid":false,"zerolinecolor":"white","titlefont":{"size":20},"tickvals":[-2,-1,0,1,2]},"hovermode":"closest","showlegend":false,"sliders":[],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0.05,"x":0.95,"yanchor":"bottom","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Negate<br />bill depth<br />coefficients","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":1000,"easing":"linear"},"frame":{"duration":1000,"redraw":true}}]}]}]},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"x":[-0.894695469943974,-0.821551520642717,-0.675263622040205,-1.33355916575151,-0.858123495293346,-0.931267444594602,-0.876409482618659,-0.528975723437691,-1.71756489958311,-1.35184515307683,-0.96783941924523,-0.272971900883293,-1.75413687423374,-1.13241330517306,-1.15069929249837,-1.47984706435403,-1.0592693558718,-0.949553431919917,-1.58956298830591,-0.620405660064261,-0.638691647389576,-1.11412731784774,-0.638691647389576,-0.821551520642717,-1.24212922912494,-0.821551520642717,-0.565547698088319,-1.38841712772746,-0.876409482618659,-0.949553431919917,-0.327829862859235,-1.16898527982369,-0.766693558666775,-1.37013114040214,-0.583833685413634,-1.46156107702871,0.0196038963217338,-1.27870120377557,-0.803265533317403,-0.528975723437691,-1.46156107702871,-0.803265533317403,-0.711835596690832,-1.64442095028185,-0.364401837509864,-1.73585088690842,-0.474117761461749,-0.912981457269288,-0.620405660064261,-1.37013114040214,-1.16898527982369,-1.51641903900465,-0.492403748787063,-1.16898527982369,-0.528975723437691,-1.38841712772746,-0.43754578681112,-1.55299101365528,-0.528975723437691,-1.47984706435403,-0.400973812160492,-1.91871076016157,-0.784979545992088,-0.803265533317403,0.330465680852073,-1.55299101365528,-0.218113938907351,-0.565547698088319,-1.24212922912494,-1.42498910237808,-0.346115850184549,-1.71756489958311,-0.199827951582037,-1.33355916575151,-1.62613496295654,-1.22384324179963,-0.492403748787063,-1.40670311505277,-1.29698719110089,-1.04098336854649,-0.931267444594602,-1.51641903900465,-0.528975723437691,-1.827280823535,-0.803265533317403,-1.42498910237808,-0.583833685413634,-1.07755534319711,-0.675263622040205,-1.99185470946282,-0.144969989606093,-1.64442095028185,-0.547261710763005,-1.15069929249837,-1.13241330517306,-1.11412731784774,-0.784979545992088,-0.986125406570544,-1.0592693558718,-1.07755534319711,-0.144969989606093,-1.07755534319711,0.293893706201446,-0.784979545992088,-0.327829862859235,-0.803265533317403,-0.236399926232664,-0.986125406570544,-1.22384324179963,-1.51641903900465,-0.528975723437691,-1.42498910237808,-1.15069929249837,-0.693549609365518,-0.474117761461749,-1.60784897563122,-0.620405660064261,-0.949553431919917,-0.455831774136434,-0.912981457269288,0.0196038963217338,-1.00441139389586,-0.163255976931408,-1.3152731784262,-1.187271267149,-1.07755534319711,-0.528975723437691,-1.53470502632997,-0.693549609365518,-1.27870120377557,-0.784979545992088,-0.693549609365518,-0.620405660064261,-2.17471458271596,-0.602119672738947,-1.22384324179963,-0.912981457269288,-0.876409482618659,-1.35184515307683,-1.46156107702871,-1.13241330517306,-1.46156107702871,-0.455831774136434],"y":[0.779558952562776,0.119404276184791,0.424091049897708,1.08424572627569,1.74440040265368,0.322528791993403,1.23658911313215,0.220966534089098,1.99830604741444,0.322528791993403,0.931902339419235,1.79518153160583,0.627215565706318,0.576434436754166,0.779558952562776,1.03346459732354,0.474872178849861,0.0178420182804862,0.881121210467081,0.728777823610625,0.373309920945555,0.728777823610625,0.881121210467081,-0.236063626480277,0.474872178849861,0.322528791993403,0.881121210467081,-0.0837202396238188,1.99830604741444,1.43971362894076,0.677996694658471,1.08424572627569,0.982683468371388,0.424091049897708,0.627215565706318,0.677996694658471,1.2873702420843,-0.134501368575972,0.83034008151493,0.931902339419235,0.373309920945555,0.27174766304125,0.881121210467081,0.373309920945555,1.18580798418,0.474872178849861,0.728777823610625,0.170185405136945,0.83034008151493,-0.286844755432429,0.982683468371388,-0.134501368575972,1.99830604741444,-0.0837202396238188,0.525653307802013,-0.0329391106716654,0.424091049897708,-0.489969271241041,0.982683468371388,-0.286844755432429,1.13502685522784,0.931902339419235,0.627215565706318,0.0178420182804862,0.881121210467081,0.170185405136945,0.677996694658471,-0.185282497528124,1.13502685522784,-0.540750400193192,0.982683468371388,0.0178420182804862,0.220966534089098,0.83034008151493,1.13502685522784,0.322528791993403,1.59205701579722,1.18580798418,0.728777823610625,1.03346459732354,0.83034008151493,0.424091049897708,0.474872178849861,-0.0329391106716654,0.474872178849861,0.0686231472326396,0.881121210467081,0.728777823610625,0.677996694658471,-0.540750400193192,0.677996694658471,0.373309920945555,1.43971362894076,-0.591531529145346,1.43971362894076,0.728777823610625,0.881121210467081,0.0178420182804862,1.43971362894076,-0.0837202396238188,0.931902339419235,-0.337625884384582,1.59205701579722,0.27174766304125,1.18580798418,1.79518153160583,0.576434436754166,-0.0837202396238188,1.69361927370152,-0.0837202396238188,0.728777823610625,0.0178420182804862,1.33815137103646,-0.0837202396238188,0.677996694658471,-0.642312658097498,0.931902339419235,0.220966534089098,0.576434436754166,-0.0329391106716654,0.424091049897708,0.373309920945555,1.03346459732354,0.677996694658471,0.677996694658471,0.220966534089098,0.170185405136945,0.170185405136945,1.49049475789291,-0.337625884384582,0.373309920945555,-0.0329391106716654,0.0178420182804862,-0.845437173906109,-0.0837202396238188,-0.185282497528124,0.779558952562776,0.728777823610625,0.627215565706318,0.322528791993403,0.474872178849861,-0.0329391106716654,0.677996694658471],"type":"scatter","mode":"markers","name":"Adelie","marker":{"color":"rgba(255,140,0,1)","symbol":"circle","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,1)"},"error_y":{"color":"rgba(255,140,0,1)"},"error_x":{"color":"rgba(255,140,0,1)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","frame":null,"hoverinfo":"none"},{"x":[0.458467592129273,1.09847714851527,1.33619498374435,0.257321731550817,1.59219880629875,0.22074975690019,0.385323642828017,1.33619498374435,0.367037655502702,1.33619498374435,0.476753579454587,1.40933893304561,0.549897528755844,1.46419689502155,0.348751668177388,1.18990708514184,1.15333511049121,2.5613561345404,0.440181604803959,0.952189249912755,-0.291257888208607,0.824187338635556,-0.144969989606093,1.20819307246715,0.495039566779902,1.46419689502155,1.18990708514184,1.0070472118887,0.440181604803959,1.61048479362406,-0.565547698088319,1.86648861617846,-0.272971900883293,1.28133702176841,1.04361918653933,0.641327465382414,0.659613452707729,1.46419689502155,0.531611541430529,1.73848670490126,0.915617275262127,0.403609630153331,1.2630510344431,0.275607718876132,1.2630510344431,1.24476504711778,1.11676313584058,0.915617275262127,1.37276695839498,1.06190517386464,0.7510433893343,1.35448097106967,0.31217969352676,1.22647905979247,-0.272971900883293,1.50076886967218,0.22074975690019,0.970475237238068,1.1350491231659,0.293893706201446,1.44591090769624,0.513325554105215,0.31217969352676,2.15906441338349,-0.0901120276301514,1.02533319921401,1.24476504711778,1.1350491231659],"y":[0.373309920945555,1.18580798418,1.03346459732354,0.779558952562776,1.33815137103646,0.322528791993403,0.525653307802013,0.525653307802013,0.881121210467081,1.38893249998861,0.322528791993403,1.59205701579722,0.0686231472326396,0.474872178849861,-0.0329391106716654,1.23658911313215,1.43971362894076,0.322528791993403,0.728777823610625,0.525653307802013,0.0686231472326396,0.170185405136945,-0.286844755432429,1.13502685522784,0.373309920945555,0.931902339419235,0.627215565706318,0.931902339419235,0.322528791993403,1.43971362894076,-0.286844755432429,1.84596266055798,-0.236063626480277,0.83034008151493,0.728777823610625,-0.185282497528124,0.576434436754166,1.79518153160583,-0.286844755432429,1.38893249998861,1.18580798418,0.170185405136945,0.982683468371388,-0.0837202396238188,0.373309920945555,0.677996694658471,0.373309920945555,1.23658911313215,0.779558952562776,0.0686231472326396,-0.388407013336736,0.931902339419235,0.0686231472326396,1.2873702420843,0.0686231472326396,0.83034008151493,-0.286844755432429,1.38893249998861,0.83034008151493,1.13502685522784,1.18580798418,-0.337625884384582,-0.0837202396238188,1.33815137103646,0.474872178849861,0.525653307802013,0.931902339419235,0.779558952562776],"type":"scatter","mode":"markers","name":"Chinstrap","marker":{"color":"rgba(160,32,240,1)","symbol":"triangle-up","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,1)"},"error_y":{"color":"rgba(160,32,240,1)"},"error_x":{"color":"rgba(160,32,240,1)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","frame":null,"hoverinfo":"none"},{"x":[1.09847714851527,0.860759313286185,1.09847714851527,0.659613452707729,0.458467592129273,0.257321731550817,0.495039566779902,-0.12668400228078,0.513325554105215,-0.565547698088319,0.915617275262127,0.275607718876132,0.805901351310242,0.330465680852073,0.970475237238068,-0.364401837509864,0.952189249912755,0.403609630153331,0.860759313286185,1.1350491231659,0.202463769574875,0.458467592129273,0.421895617478644,0.385323642828017,0.696185427358356,0.769329376659614,1.09847714851527,0.604755490731786,-0.218113938907351,0.202463769574875,2.85393193174543,0.933903262587441,0.805901351310242,-0.254685913557978,0.0744618582976757,0.00131790899641935,0.860759313286185,-0.236399926232664,1.02533319921401,0.239035744225503,1.02533319921401,1.18990708514184,-0.071826040304837,0.275607718876132,1.18990708514184,0.165891794924246,0.22074975690019,0.476753579454587,0.824187338635556,0.202463769574875,1.11676313584058,0.458467592129273,0.184177782249561,-0.0352540656542095,0.275607718876132,-0.144969989606093,1.17162109781652,0.239035744225503,0.403609630153331,0.31217969352676,1.88477460350378,0.330465680852073,1.06190517386464,1.0070472118887,-0.0901120276301514,1.22647905979247,0.677899440033043,0.440181604803959,0.769329376659614,0.458467592129273,0.440181604803959,0.84247332596087,0.641327465382414,1.29962300909372,0.22074975690019,0.22074975690019,0.933903262587441,1.55562683164812,0.6230414780571,1.09847714851527,0.165891794924246,1.24476504711778,-0.108398014955466,1.33619498374435,0.641327465382414,1.48248288234687,0.641327465382414,1.50076886967218,0.275607718876132,1.0070472118887,0.0927478456229901,1.24476504711778,0.988761224563383,0.531611541430529,0.805901351310242,1.29962300909372,0.824187338635556,2.1773504007088,0.586469503406473,0.933903262587441,0.513325554105215,-0.419259799485805,1.72020071757595,-0.12668400228078,0.7510433893343,1.18990708514184,1.06190517386464,-0.0901120276301514,1.37276695839498,0.403609630153331,2.03106250210629,0.879045300611498,0.586469503406473,0.513325554105215,1.17162109781652,0.22074975690019,1.08019116118995],"y":[-0.439188142288887,-1.55637297923625,-0.997780560762567,-1.35324846342764,-1.86105975294916,-1.30246733447548,-0.946999431810414,-1.91184088190131,-0.896218302858261,-1.75949749504486,-0.540750400193192,-1.75949749504486,-1.30246733447548,-1.30246733447548,-0.743874916001804,-1.86105975294916,-0.997780560762567,-1.35324846342764,-1.04856168971472,-1.45481072133194,-1.35324846342764,-1.35324846342764,-0.693093787049651,-1.04856168971472,-1.09934281866687,-1.45481072133194,-0.946999431810414,-0.946999431810414,-1.50559185028409,-1.35324846342764,-0.0837202396238188,-1.20090507657118,-0.439188142288887,-1.75949749504486,0.0686231472326396,-1.81027862399701,-0.743874916001804,-1.75949749504486,-0.591531529145346,-1.75949749504486,-1.09934281866687,-0.642312658097498,-1.65793523714055,-1.65793523714055,-0.642312658097498,-1.96262201085347,-0.693093787049651,-1.50559185028409,-1.55637297923625,-1.40402959237979,-1.09934281866687,-1.40402959237979,-0.896218302858261,-1.65793523714055,-1.09934281866687,-1.35324846342764,-0.946999431810414,-1.7087163660927,-1.15012394761902,-1.65793523714055,-0.743874916001804,-1.50559185028409,-0.185282497528124,-0.489969271241041,-1.50559185028409,-1.09934281866687,-1.09934281866687,-0.794656044953956,-0.794656044953956,-1.20090507657118,-1.09934281866687,-0.591531529145346,-1.50559185028409,-0.439188142288887,-1.7087163660927,-0.388407013336736,-1.35324846342764,-0.794656044953956,-1.30246733447548,-0.642312658097498,-1.7087163660927,0.0686231472326396,-1.40402959237979,-1.50559185028409,-1.6071541081884,-0.0837202396238188,-1.09934281866687,-0.0329391106716654,-1.35324846342764,-0.540750400193192,-1.25168620552333,-0.743874916001804,-0.693093787049651,-1.30246733447548,-1.40402959237979,-0.337625884384582,-1.09934281866687,-0.0837202396238188,-0.845437173906109,-1.09934281866687,-0.540750400193192,-1.25168620552333,-0.693093787049651,-1.6071541081884,-1.04856168971472,-0.997780560762567,-0.642312658097498,-0.997780560762567,-0.439188142288887,-1.55637297923625,-0.591531529145346,-0.489969271241041,-1.75949749504486,-1.45481072133194,-0.743874916001804,-1.20090507657118,-0.540750400193192],"type":"scatter","mode":"markers","name":"Gentoo","marker":{"color":"rgba(0,139,139,1)","symbol":"square","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,1)"},"error_y":{"color":"rgba(0,139,139,1)"},"error_x":{"color":"rgba(0,139,139,1)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","frame":null,"hoverinfo":"none"},{"fillcolor":"rgba(255,140,0,0.2)","x":[-3,-1.8,0.8,-3,-3],"y":[-2,-2,2,2,-2],"type":"scatter","fill":"toself","mode":"lines","frame":"1","marker":{"color":"rgba(255,140,0,0.2)","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,0.2)"},"error_y":{"color":"rgba(255,140,0,0.2)"},"error_x":{"color":"rgba(255,140,0,0.2)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","visible":true,"hoverinfo":"none"},{"fillcolor":"rgba(160,32,240,0.2)","x":[-1.35,0.8,3,3,-1.35],"y":[-1.3,2,2,0.9,-1.3],"type":"scatter","fill":"toself","mode":"lines","frame":"1","marker":{"color":"rgba(160,32,240,0.2)","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,0.2)"},"error_y":{"color":"rgba(160,32,240,0.2)"},"error_x":{"color":"rgba(160,32,240,0.2)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","visible":true,"hoverinfo":"none"},{"fillcolor":"rgba(0,139,139,0.2)","x":[-1.8,-1.35,3,3,-1.8],"y":[-2,-1.3,0.9,-2,-2],"type":"scatter","fill":"toself","mode":"lines","frame":"1","marker":{"color":"rgba(0,139,139,0.2)","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,0.2)"},"error_y":{"color":"rgba(0,139,139,0.2)"},"error_x":{"color":"rgba(0,139,139,0.2)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","visible":true,"hoverinfo":"none"}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"1","data":[{"fillcolor":"rgba(255,140,0,0.2)","x":[-3,-1.8,0.8,-3,-3],"y":[-2,-2,2,2,-2],"type":"scatter","fill":"toself","mode":"lines","frame":"1","marker":{"color":"rgba(255,140,0,0.2)","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,0.2)"},"error_y":{"color":"rgba(255,140,0,0.2)"},"error_x":{"color":"rgba(255,140,0,0.2)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","visible":true},{"fillcolor":"rgba(160,32,240,0.2)","x":[-1.35,0.8,3,3,-1.35],"y":[-1.3,2,2,0.9,-1.3],"type":"scatter","fill":"toself","mode":"lines","frame":"1","marker":{"color":"rgba(160,32,240,0.2)","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,0.2)"},"error_y":{"color":"rgba(160,32,240,0.2)"},"error_x":{"color":"rgba(160,32,240,0.2)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","visible":true},{"fillcolor":"rgba(0,139,139,0.2)","x":[-1.8,-1.35,3,3,-1.8],"y":[-2,-1.3,0.9,-2,-2],"type":"scatter","fill":"toself","mode":"lines","frame":"1","marker":{"color":"rgba(0,139,139,0.2)","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,0.2)"},"error_y":{"color":"rgba(0,139,139,0.2)"},"error_x":{"color":"rgba(0,139,139,0.2)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[3,4,5]},{"name":"2","data":[{"fillcolor":"rgba(255,140,0,0.2)","x":[3,1.8,-0.8,3,3],"y":[-2,-2,2,2,-2],"type":"scatter","fill":"toself","mode":"lines","frame":"2","marker":{"color":"rgba(255,140,0,0.2)","line":{"color":"rgba(255,140,0,1)"}},"textfont":{"color":"rgba(255,140,0,0.2)"},"error_y":{"color":"rgba(255,140,0,0.2)"},"error_x":{"color":"rgba(255,140,0,0.2)"},"line":{"color":"rgba(255,140,0,1)"},"xaxis":"x","yaxis":"y","visible":true},{"fillcolor":"rgba(160,32,240,0.2)","x":[1.35,-0.8,-3,-3,1.35],"y":[-1.3,2,2,0.9,-1.3],"type":"scatter","fill":"toself","mode":"lines","frame":"2","marker":{"color":"rgba(160,32,240,0.2)","line":{"color":"rgba(160,32,240,1)"}},"textfont":{"color":"rgba(160,32,240,0.2)"},"error_y":{"color":"rgba(160,32,240,0.2)"},"error_x":{"color":"rgba(160,32,240,0.2)"},"line":{"color":"rgba(160,32,240,1)"},"xaxis":"x","yaxis":"y","visible":true},{"fillcolor":"rgba(0,139,139,0.2)","x":[1.8,1.35,-3,-3,1.8],"y":[-2,-1.3,0.9,-2,-2],"type":"scatter","fill":"toself","mode":"lines","frame":"2","marker":{"color":"rgba(0,139,139,0.2)","line":{"color":"rgba(0,139,139,1)"}},"textfont":{"color":"rgba(0,139,139,0.2)"},"error_y":{"color":"rgba(0,139,139,0.2)"},"error_x":{"color":"rgba(0,139,139,0.2)"},"line":{"color":"rgba(0,139,139,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[3,4,5]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly",".hideLegend":true},"evals":[],"jsHooks":[]}</script>


---
layout: false

# Outline

- Machine Learning

- Evaluating Survival Predictions

- Random Survival Forests

- **Examples**

---
layout: true

## Example (using `aorsf`)

---

First make sure `aorsf` is installed:


```r
install.packages('aorsf')
```

Also make sure it's loaded


```r
library(aorsf)
```

---

**Data**: Mayo Clinic primary biliary cholangitis (PBC) data from the Mayo Clinic trial in PBC conducted between 1974 and 1984


```r
pbc &lt;- pbc_orsf %&gt;% 
  select(-id) %&gt;% 
  mutate(stage = as.numeric(stage))

glimpse(pbc[, 1:10], width = 65)
```

```
## Rows: 276
## Columns: 10
## $ time    &lt;int&gt; 400, 4500, 1012, 1925, 1504, 1832, 2466, 2400, ~
## $ status  &lt;dbl&gt; 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1,~
## $ trt     &lt;fct&gt; d_penicill_main, d_penicill_main, d_penicill_ma~
## $ age     &lt;dbl&gt; 58.76523, 56.44627, 70.07255, 54.74059, 38.1054~
## $ sex     &lt;fct&gt; f, f, m, f, f, f, f, f, f, f, f, f, f, f, f, f,~
## $ ascites &lt;fct&gt; 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,~
## $ hepato  &lt;fct&gt; 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1,~
## $ spiders &lt;fct&gt; 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1,~
## $ edema   &lt;fct&gt; 1, 0, 0.5, 0.5, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0~
## $ bili    &lt;dbl&gt; 14.5, 1.1, 1.4, 1.8, 3.4, 1.0, 0.3, 3.2, 12.6, ~
```


---

Syntax of `aorsf::orsf` is similar to `survival::coxph`


```r
library(survival)

fit_coxph &lt;- coxph(formula = Surv(time, status) ~ .,
                   data = pbc)
```

In fact the basic syntax is identical


```r
# reproducibility
set.seed(329730)

fit_orsf &lt;- orsf(formula = Surv(time, status) ~ .,
                 data = pbc, 
                 importance = 'permute')
```

---

Inspect!


```r
fit_orsf
```

```
## ---------- Oblique random survival forest
## 
##      Linear combinations: Accelerated
##           N observations: 276
##                 N events: 111
##                  N trees: 500
##       N predictors total: 17
##    N predictors per node: 5
##  Average leaves per tree: 25
## Min observations in leaf: 5
##       Min events in leaf: 1
##           OOB stat value: 0.84
##            OOB stat type: Harrell's C-statistic
##      Variable importance: permute
## 
## -----------------------------------------
```

---

`orsf_summarize_uni()` computes partial dependence for you


```r
orsf_summarize_uni(fit_orsf, n_variables = 2, pred_horizon = 3650/2)
```

```
## 
## -- bili (VI Rank: 1) ----------------------------
## 
##         |---------------- risk ----------------|
##   Value      Mean    Median     25th %    75th %
##  &lt;char&gt;     &lt;num&gt;     &lt;num&gt;      &lt;num&gt;     &lt;num&gt;
##    0.80 0.2294737 0.1157904 0.04125087 0.3670285
##     1.4 0.2508836 0.1351933 0.05464883 0.3875328
##     3.5 0.3730334 0.2923891 0.16348936 0.5565475
## 
## -- age (VI Rank: 2) -----------------------------
## 
##         |---------------- risk ----------------|
##   Value      Mean    Median     25th %    75th %
##  &lt;char&gt;     &lt;num&gt;     &lt;num&gt;      &lt;num&gt;     &lt;num&gt;
##      42 0.2732272 0.1319029 0.03878754 0.4605820
##      50 0.3009128 0.1548903 0.04441111 0.5395029
##      57 0.3324763 0.2082692 0.06778463 0.5768839
## 
##  Predicted risk at time t = 1825 for top 2 predictors
```

---

Is there any difference in the risk profile by sex?


```r
pred_spec = list(bili = seq(1, 5, length.out = 20),
                 sex = levels(pbc_orsf$sex))

pd_bili_sex &lt;- orsf_pd_oob(fit_orsf, pred_spec,
                           pred_horizon = 3650/2)

pd_plot &lt;- ggplot(pd_bili_sex) +
  aes(x = bili, y = medn, col = sex) +
  geom_line() + 
  labs(
    y = 'Expected predicted risk',
    title = "5-year risk by bilirubin and sex."
  )

# plot shown on next slide for space
```

---

![](index_files/figure-html/unnamed-chunk-61-1.png)&lt;!-- --&gt;


---

Your turn: 

1. Does the relationship of predicted risk and bilirubin vary by edema?

1. Use `coxph` to verify your findings:


```r
# hints:

# 1. modify the code on my previous slide.

# 2. consider centering the predicted means by their minimum
#      in groups defined by edema level.

# 3. use anova(coxph(...)) to test for interactions, but note that 
#      you need to know what goes in the ... part of this code

pbc$edema_01 &lt;- ifelse(pbc$edema == '1', 'yes', 'no')
```

---

A view of what you may find:

![](index_files/figure-html/unnamed-chunk-63-1.png)&lt;!-- --&gt;

---

Another interesting use of partial dependence is to assess time-varying associations.


```r
# note the use of many different pred_horizon values
pd_tv &lt;- orsf_pd_oob(fit_orsf, 
                     pred_spec = list(sex = c("m", "f")),
                     pred_horizon = seq(365, 365*5))

ggplot(pd_tv, aes(x = pred_horizon, y = mean, color = sex)) + 
 geom_line() +
 labs(x = 'Time since baseline', y = 'Expected risk')
```

![](index_files/figure-html/unnamed-chunk-64-1.png)&lt;!-- --&gt;


---

Just a slide to show how one would pull out variable importance estimates


```r
orsf_vi_negate(fit_orsf) %&gt;% 
  enframe(name = 'predictor', value = 'importance') %&gt;% 
  slice(1:10)
```

```
## # A tibble: 10 x 2
##    predictor importance
##    &lt;chr&gt;          &lt;dbl&gt;
##  1 bili         0.0899 
##  2 age          0.0216 
##  3 copper       0.0214 
##  4 stage        0.0154 
##  5 protime      0.00938
##  6 ascites      0.00589
##  7 chol         0.00484
##  8 sex          0.00448
##  9 albumin      0.00354
## 10 spiders      0.00349
```

---
layout: true

## Example (`mlr3`)

---

First we load `mlr3` libraries.

More on mlr3 at https://mlr3.mlr-org.com/


```r
suppressPackageStartupMessages({
 library(mlr3verse)
 library(mlr3proba)
 library(mlr3extralearners)
 library(mlr3viz)
 library(mlr3benchmark)
})
```


---

Make a `task` object (`mlr3` lingo considers prediction a task)


```r
task_pbc &lt;- 
 TaskSurv$new(
  id = 'pbc',  
  backend = pbc,  
  time = "time", 
  event = "status"
 )
```

---

**Benchmark**: Compare the prediction accuracy of different types of random survival forests:


```r
# Learners with default parameters
# ranger and rfsrc are standard random survival forests
# aorsf is an oblique random survival forest
learners &lt;- lrns(c("surv.coxph", "surv.ranger",
                   "surv.rfsrc", "surv.aorsf"))

# Brier (Graf) score, c-index and training time as measures
measures &lt;- msrs(c("surv.graf", "surv.cindex", "time_train"))

# reproduce
set.seed(32987)

# Benchmark with 5-fold CV
design &lt;- benchmark_grid(
  tasks = task_pbc,
  learners = learners,
  resamplings = rsmps("cv", folds = 10)
)

benchmark_result &lt;- benchmark(design)

bm_scores &lt;- benchmark_result$score(measures, predict_sets = "test")
```




---

**Results** How should we summarize these?


```r
bm_scores %&gt;%
 select(task_id, learner_id, surv.graf, surv.cindex, time_train)
```

```
## # A tibble: 40 x 5
##    task_id learner_id surv.graf surv.cindex time_train
##    &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;
##  1 pbc     surv.coxph    0.264        0.814     0     
##  2 pbc     surv.coxph    0.163        0.829     0.0100
##  3 pbc     surv.coxph    0.152        0.832     0.0100
##  4 pbc     surv.coxph    0.194        0.797     0     
##  5 pbc     surv.coxph    0.111        0.863     0     
##  6 pbc     surv.coxph    0.135        0.778     0     
##  7 pbc     surv.coxph    0.132        0.867     0     
##  8 pbc     surv.coxph    0.121        0.864     0.0100
##  9 pbc     surv.coxph    0.0989       0.895     0.0200
## 10 pbc     surv.coxph    0.147        0.756     0.0200
## # ... with 30 more rows
```

---

A boxplot?


```r
bm_scores %&gt;%
 select(task_id, learner_id, surv.graf, surv.cindex, time_train) %&gt;%
  ggplot() + 
  aes(x = learner_id, y = surv.cindex) + 
  geom_boxplot()
```

![](index_files/figure-html/unnamed-chunk-71-1.png)&lt;!-- --&gt;

---

Analysis of variance?


```r
lm(data = bm_scores, 
   formula = surv.cindex ~ learner_id) %&gt;% 
  anova() %&gt;% 
  tidy()
```

```
## # A tibble: 2 x 6
##   term          df   sumsq  meansq statistic p.value
##   &lt;chr&gt;      &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 learner_id     3 0.00300 0.00100     0.379   0.769
## 2 Residuals     36 0.0949  0.00264    NA      NA
```

---

Just use the mean?


```r
bm_scores %&gt;%
  group_by(learner_id) %&gt;% 
  summarize(across(where(is.numeric), mean))
```

```
## # A tibble: 4 x 4
##   learner_id  surv.graf surv.cindex time_train
##   &lt;chr&gt;           &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;
## 1 surv.aorsf      0.135       0.854    0.115  
## 2 surv.coxph      0.152       0.830    0.00700
## 3 surv.ranger     0.141       0.839    1.33   
## 4 surv.rfsrc      0.141       0.842    0.335
```

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
